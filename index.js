const stats = [{ "Curve Ball Speed": 130, "Fast Ball Speed": 168, "Cursed Ball": 60, "Curve": 53, "Curve Control": 50, "Char Id": 0, "Slap Contact Spot Size": 65, "Charge Contact Spot Size": 35, "Slap Hit Power": 50, "Charge Hit Power": 64, "Bunting": 35, "Speed": 50, "Throwing Arm": 60, "Weight": 2, "Captain Star Hit/Pitch": 1, "Non Captain Star Pitch": 2, "Batting Stat Bar": 6, "Pitching Stat Bar": 6, "Running Stat Bar": 5, "Fielding Stat Bar": 6, "Name": "Mario", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 1, "Non Captain Star Swing": 1, "Fielding Ability": 10 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 55, "Curve": 56, "Curve Control": 50, "Char Id": 1, "Slap Contact Spot Size": 70, "Charge Contact Spot Size": 40, "Slap Hit Power": 48, "Charge Hit Power": 59, "Bunting": 40, "Speed": 60, "Throwing Arm": 50, "Weight": 2, "Captain Star Hit/Pitch": 2, "Non Captain Star Pitch": 2, "Batting Stat Bar": 5, "Pitching Stat Bar": 6, "Running Stat Bar": 6, "Fielding Stat Bar": 6, "Name": "Luigi", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 1, "Non Captain Star Swing": 2, "Fielding Ability": 66 }, { "Curve Ball Speed": 130, "Fast Ball Speed": 165, "Cursed Ball": 70, "Curve": 35, "Curve Control": 50, "Char Id": 2, "Slap Contact Spot Size": 30, "Charge Contact Spot Size": 15, "Slap Hit Power": 60, "Charge Hit Power": 80, "Bunting": 20, "Speed": 40, "Throwing Arm": 70, "Weight": 4, "Captain Star Hit/Pitch": 5, "Non Captain Star Pitch": 1, "Batting Stat Bar": 8, "Pitching Stat Bar": 7, "Running Stat Bar": 4, "Fielding Stat Bar": 4, "Name": "DK", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 1, "Vertical Hit Trajectory": 1, "Character Class": 1, "Can Be Captain": 1, "Non Captain Star Swing": 1, "Fielding Ability": 20 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 45, "Curve": 80, "Curve Control": 50, "Char Id": 3, "Slap Contact Spot Size": 45, "Charge Contact Spot Size": 15, "Slap Hit Power": 45, "Charge Hit Power": 30, "Bunting": 20, "Speed": 70, "Throwing Arm": 60, "Weight": 1, "Captain Star Hit/Pitch": 6, "Non Captain Star Pitch": 1, "Batting Stat Bar": 3, "Pitching Stat Bar": 6, "Running Stat Bar": 7, "Fielding Stat Bar": 7, "Name": "Diddy", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 1, "Non Captain Star Swing": 2, "Fielding Ability": 4 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 50, "Curve": 70, "Curve Control": 90, "Char Id": 4, "Slap Contact Spot Size": 80, "Charge Contact Spot Size": 45, "Slap Hit Power": 46, "Charge Hit Power": 45, "Bunting": 45, "Speed": 50, "Throwing Arm": 40, "Weight": 2, "Captain Star Hit/Pitch": 11, "Non Captain Star Pitch": 3, "Batting Stat Bar": 4, "Pitching Stat Bar": 8, "Running Stat Bar": 5, "Fielding Stat Bar": 7, "Name": "Peach", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 2, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 1, "Non Captain Star Swing": 2, "Fielding Ability": 32 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 160, "Cursed Ball": 55, "Curve": 60, "Curve Control": 55, "Char Id": 5, "Slap Contact Spot Size": 70, "Charge Contact Spot Size": 40, "Slap Hit Power": 49, "Charge Hit Power": 60, "Bunting": 55, "Speed": 40, "Throwing Arm": 40, "Weight": 2, "Captain Star Hit/Pitch": 12, "Non Captain Star Pitch": 3, "Batting Stat Bar": 6, "Pitching Stat Bar": 7, "Running Stat Bar": 4, "Fielding Stat Bar": 5, "Name": "Daisy", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 1, "Non Captain Star Swing": 1, "Fielding Ability": 40 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 51, "Curve Control": 50, "Char Id": 6, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 50, "Charge Hit Power": 45, "Bunting": 25, "Speed": 90, "Throwing Arm": 40, "Weight": 2, "Captain Star Hit/Pitch": 9, "Non Captain Star Pitch": 3, "Batting Stat Bar": 5, "Pitching Stat Bar": 4, "Running Stat Bar": 9, "Fielding Stat Bar": 6, "Name": "Yoshi", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 2, "Can Be Captain": 1, "Non Captain Star Swing": 2, "Fielding Ability": 4 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 150, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 7, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 25, "Slap Hit Power": 44, "Charge Hit Power": 30, "Bunting": 25, "Speed": 70, "Throwing Arm": 30, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 3, "Pitching Stat Bar": 5, "Running Stat Bar": 7, "Fielding Stat Bar": 3, "Name": "Baby Mario", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 2 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 150, "Cursed Ball": 40, "Curve": 50, "Curve Control": 50, "Char Id": 8, "Slap Contact Spot Size": 45, "Charge Contact Spot Size": 25, "Slap Hit Power": 42, "Charge Hit Power": 20, "Bunting": 25, "Speed": 80, "Throwing Arm": 30, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 2, "Pitching Stat Bar": 5, "Running Stat Bar": 8, "Fielding Stat Bar": 3, "Name": "Baby Luigi", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 2 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 175, "Cursed Ball": 90, "Curve": 35, "Curve Control": 50, "Char Id": 9, "Slap Contact Spot Size": 40, "Charge Contact Spot Size": 15, "Slap Hit Power": 60, "Charge Hit Power": 95, "Bunting": 20, "Speed": 10, "Throwing Arm": 70, "Weight": 4, "Captain Star Hit/Pitch": 7, "Non Captain Star Pitch": 2, "Batting Stat Bar": 9, "Pitching Stat Bar": 9, "Running Stat Bar": 1, "Fielding Stat Bar": 1, "Name": "Bowser", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 1, "Vertical Hit Trajectory": 1, "Character Class": 1, "Can Be Captain": 1, "Non Captain Star Swing": 1, "Fielding Ability": 17 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 80, "Curve": 30, "Curve Control": 50, "Char Id": 10, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 25, "Slap Hit Power": 55, "Charge Hit Power": 80, "Bunting": 25, "Speed": 30, "Throwing Arm": 60, "Weight": 3, "Captain Star Hit/Pitch": 3, "Non Captain Star Pitch": 2, "Batting Stat Bar": 8, "Pitching Stat Bar": 3, "Running Stat Bar": 3, "Fielding Stat Bar": 4, "Name": "Wario", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 1, "Can Be Captain": 1, "Non Captain Star Swing": 1, "Fielding Ability": 9 }, { "Curve Ball Speed": 110, "Fast Ball Speed": 169, "Cursed Ball": 50, "Curve": 70, "Curve Control": 60, "Char Id": 11, "Slap Contact Spot Size": 90, "Charge Contact Spot Size": 40, "Slap Hit Power": 50, "Charge Hit Power": 1, "Bunting": 45, "Speed": 40, "Throwing Arm": 40, "Weight": 3, "Captain Star Hit/Pitch": 4, "Non Captain Star Pitch": 1, "Batting Stat Bar": 4, "Pitching Stat Bar": 9, "Running Stat Bar": 4, "Fielding Stat Bar": 4, "Name": "Waluigi", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 2, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 1, "Non Captain Star Swing": 3, "Fielding Ability": 80 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 12, "Slap Contact Spot Size": 70, "Charge Contact Spot Size": 30, "Slap Hit Power": 40, "Charge Hit Power": 50, "Bunting": 30, "Speed": 40, "Throwing Arm": 50, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 5, "Pitching Stat Bar": 4, "Running Stat Bar": 4, "Fielding Stat Bar": 5, "Name": "Koopa(R)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 8 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 13, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 45, "Charge Hit Power": 70, "Bunting": 25, "Speed": 60, "Throwing Arm": 50, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 5, "Pitching Stat Bar": 3, "Running Stat Bar": 6, "Fielding Stat Bar": 3, "Name": "Toad(R)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 0 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 90, "Curve Control": 60, "Char Id": 14, "Slap Contact Spot Size": 85, "Charge Contact Spot Size": 45, "Slap Hit Power": 40, "Charge Hit Power": 30, "Bunting": 50, "Speed": 40, "Throwing Arm": 40, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 3, "Pitching Stat Bar": 8, "Running Stat Bar": 4, "Fielding Stat Bar": 2, "Name": "Boo", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 64 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 150, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 15, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 44, "Charge Hit Power": 20, "Bunting": 25, "Speed": 90, "Throwing Arm": 40, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 2, "Pitching Stat Bar": 3, "Running Stat Bar": 9, "Fielding Stat Bar": 4, "Name": "Toadette", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 10 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 16, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 46, "Charge Hit Power": 55, "Bunting": 25, "Speed": 40, "Throwing Arm": 40, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 5, "Pitching Stat Bar": 3, "Running Stat Bar": 4, "Fielding Stat Bar": 5, "Name": "Shy Guy(R)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 8 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 60, "Curve": 40, "Curve Control": 50, "Char Id": 17, "Slap Contact Spot Size": 45, "Charge Contact Spot Size": 30, "Slap Hit Power": 55, "Charge Hit Power": 67, "Bunting": 20, "Speed": 40, "Throwing Arm": 60, "Weight": 3, "Captain Star Hit/Pitch": 10, "Non Captain Star Pitch": 2, "Batting Stat Bar": 6, "Pitching Stat Bar": 4, "Running Stat Bar": 4, "Fielding Stat Bar": 4, "Name": "Birdo", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 1, "Non Captain Star Swing": 1, "Fielding Ability": 1 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 18, "Slap Contact Spot Size": 40, "Charge Contact Spot Size": 30, "Slap Hit Power": 45, "Charge Hit Power": 30, "Bunting": 20, "Speed": 60, "Throwing Arm": 30, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 3, "Pitching Stat Bar": 3, "Running Stat Bar": 7, "Fielding Stat Bar": 5, "Name": "Monty", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 1 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 166, "Cursed Ball": 50, "Curve": 40, "Curve Control": 50, "Char Id": 19, "Slap Contact Spot Size": 35, "Charge Contact Spot Size": 20, "Slap Hit Power": 55, "Charge Hit Power": 75, "Bunting": 30, "Speed": 40, "Throwing Arm": 50, "Weight": 2, "Captain Star Hit/Pitch": 8, "Non Captain Star Pitch": 2, "Batting Stat Bar": 8, "Pitching Stat Bar": 5, "Running Stat Bar": 4, "Fielding Stat Bar": 3, "Name": "Bowser Jr", "Fielding Arm": 1, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 1, "Character Class": 1, "Can Be Captain": 1, "Non Captain Star Swing": 1, "Fielding Ability": 2 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 60, "Curve Control": 50, "Char Id": 20, "Slap Contact Spot Size": 55, "Charge Contact Spot Size": 30, "Slap Hit Power": 48, "Charge Hit Power": 35, "Bunting": 20, "Speed": 60, "Throwing Arm": 60, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 3, "Pitching Stat Bar": 3, "Running Stat Bar": 6, "Fielding Stat Bar": 4, "Name": "Paratroopa(R)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 64 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 30, "Curve Control": 50, "Char Id": 21, "Slap Contact Spot Size": 35, "Charge Contact Spot Size": 15, "Slap Hit Power": 51, "Charge Hit Power": 65, "Bunting": 20, "Speed": 20, "Throwing Arm": 80, "Weight": 3, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 6, "Pitching Stat Bar": 3, "Running Stat Bar": 2, "Fielding Stat Bar": 5, "Name": "Pianta(B)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 1, "Vertical Hit Trajectory": 2, "Character Class": 1, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 17 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 30, "Curve Control": 50, "Char Id": 22, "Slap Contact Spot Size": 35, "Charge Contact Spot Size": 15, "Slap Hit Power": 51, "Charge Hit Power": 70, "Bunting": 20, "Speed": 10, "Throwing Arm": 80, "Weight": 3, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 7, "Pitching Stat Bar": 3, "Running Stat Bar": 1, "Fielding Stat Bar": 5, "Name": "Pianta(R)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 1, "Vertical Hit Trajectory": 2, "Character Class": 1, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 17 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 50, "Curve": 40, "Curve Control": 50, "Char Id": 23, "Slap Contact Spot Size": 35, "Charge Contact Spot Size": 15, "Slap Hit Power": 51, "Charge Hit Power": 65, "Bunting": 20, "Speed": 10, "Throwing Arm": 80, "Weight": 3, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 6, "Pitching Stat Bar": 4, "Running Stat Bar": 1, "Fielding Stat Bar": 5, "Name": "Pianta(Y)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 1, "Vertical Hit Trajectory": 2, "Character Class": 1, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 17 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 24, "Slap Contact Spot Size": 40, "Charge Contact Spot Size": 15, "Slap Hit Power": 43, "Charge Hit Power": 30, "Bunting": 20, "Speed": 70, "Throwing Arm": 60, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 3, "Pitching Stat Bar": 3, "Running Stat Bar": 7, "Fielding Stat Bar": 4, "Name": "Noki(B)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 8 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 25, "Slap Contact Spot Size": 40, "Charge Contact Spot Size": 15, "Slap Hit Power": 45, "Charge Hit Power": 40, "Bunting": 20, "Speed": 60, "Throwing Arm": 60, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 4, "Pitching Stat Bar": 3, "Running Stat Bar": 6, "Fielding Stat Bar": 4, "Name": "Noki(R)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 8 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 60, "Curve Control": 50, "Char Id": 26, "Slap Contact Spot Size": 45, "Charge Contact Spot Size": 13, "Slap Hit Power": 43, "Charge Hit Power": 30, "Bunting": 25, "Speed": 60, "Throwing Arm": 60, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 3, "Pitching Stat Bar": 4, "Running Stat Bar": 6, "Fielding Stat Bar": 4, "Name": "Noki(G)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 8 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 50, "Curve": 40, "Curve Control": 50, "Char Id": 27, "Slap Contact Spot Size": 30, "Charge Contact Spot Size": 20, "Slap Hit Power": 10, "Charge Hit Power": 85, "Bunting": 15, "Speed": 30, "Throwing Arm": 60, "Weight": 3, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 8, "Pitching Stat Bar": 3, "Running Stat Bar": 3, "Fielding Stat Bar": 3, "Name": "Bro(H)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 1, "Vertical Hit Trajectory": 1, "Character Class": 1, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 1 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 28, "Slap Contact Spot Size": 85, "Charge Contact Spot Size": 40, "Slap Hit Power": 45, "Charge Hit Power": 40, "Bunting": 45, "Speed": 40, "Throwing Arm": 30, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 4, "Pitching Stat Bar": 4, "Running Stat Bar": 4, "Fielding Stat Bar": 6, "Name": "Toadsworth", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 1 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 29, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 40, "Charge Hit Power": 60, "Bunting": 25, "Speed": 70, "Throwing Arm": 50, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 4, "Pitching Stat Bar": 3, "Running Stat Bar": 7, "Fielding Stat Bar": 3, "Name": "Toad(B)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 0 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 55, "Curve Control": 50, "Char Id": 30, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 40, "Charge Hit Power": 60, "Bunting": 25, "Speed": 60, "Throwing Arm": 50, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 4, "Pitching Stat Bar": 4, "Running Stat Bar": 6, "Fielding Stat Bar": 3, "Name": "Toad(Y)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 0 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 31, "Slap Contact Spot Size": 55, "Charge Contact Spot Size": 35, "Slap Hit Power": 45, "Charge Hit Power": 65, "Bunting": 35, "Speed": 60, "Throwing Arm": 50, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 5, "Pitching Stat Bar": 3, "Running Stat Bar": 6, "Fielding Stat Bar": 3, "Name": "Toad(G)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 0 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 32, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 45, "Charge Hit Power": 70, "Bunting": 25, "Speed": 50, "Throwing Arm": 60, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 5, "Pitching Stat Bar": 3, "Running Stat Bar": 5, "Fielding Stat Bar": 4, "Name": "Toad(P)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 0 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 150, "Cursed Ball": 50, "Curve": 50, "Curve Control": 40, "Char Id": 33, "Slap Contact Spot Size": 65, "Charge Contact Spot Size": 35, "Slap Hit Power": 48, "Charge Hit Power": 40, "Bunting": 40, "Speed": 20, "Throwing Arm": 40, "Weight": 2, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 4, "Pitching Stat Bar": 2, "Running Stat Bar": 2, "Fielding Stat Bar": 8, "Name": "Magikoopa(B)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 2, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 128 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 40, "Char Id": 34, "Slap Contact Spot Size": 65, "Charge Contact Spot Size": 35, "Slap Hit Power": 50, "Charge Hit Power": 45, "Bunting": 40, "Speed": 10, "Throwing Arm": 40, "Weight": 2, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 5, "Pitching Stat Bar": 2, "Running Stat Bar": 1, "Fielding Stat Bar": 8, "Name": "Magikoopa(R)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 2, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 128 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 150, "Cursed Ball": 50, "Curve": 60, "Curve Control": 50, "Char Id": 35, "Slap Contact Spot Size": 65, "Charge Contact Spot Size": 35, "Slap Hit Power": 48, "Charge Hit Power": 40, "Bunting": 40, "Speed": 10, "Throwing Arm": 40, "Weight": 2, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 4, "Pitching Stat Bar": 3, "Running Stat Bar": 1, "Fielding Stat Bar": 8, "Name": "Magikoopa(G)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 2, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 128 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 150, "Cursed Ball": 50, "Curve": 70, "Curve Control": 50, "Char Id": 36, "Slap Contact Spot Size": 65, "Charge Contact Spot Size": 35, "Slap Hit Power": 40, "Charge Hit Power": 30, "Bunting": 40, "Speed": 10, "Throwing Arm": 40, "Weight": 2, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 3, "Pitching Stat Bar": 4, "Running Stat Bar": 1, "Fielding Stat Bar": 8, "Name": "Magikoopa(Y)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 2, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 128 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 50, "Curve": 60, "Curve Control": 50, "Char Id": 37, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 15, "Slap Hit Power": 55, "Charge Hit Power": 75, "Bunting": 20, "Speed": 30, "Throwing Arm": 70, "Weight": 4, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 7, "Pitching Stat Bar": 5, "Running Stat Bar": 3, "Fielding Stat Bar": 4, "Name": "King Boo", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 1, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 65 }, { "Curve Ball Speed": 130, "Fast Ball Speed": 170, "Cursed Ball": 50, "Curve": 30, "Curve Control": 50, "Char Id": 38, "Slap Contact Spot Size": 30, "Charge Contact Spot Size": 10, "Slap Hit Power": 60, "Charge Hit Power": 95, "Bunting": 10, "Speed": 10, "Throwing Arm": 100, "Weight": 4, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 9, "Pitching Stat Bar": 4, "Running Stat Bar": 1, "Fielding Stat Bar": 3, "Name": "Petey", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 1, "Vertical Hit Trajectory": 1, "Character Class": 1, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 1 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 70, "Curve Control": 50, "Char Id": 39, "Slap Contact Spot Size": 60, "Charge Contact Spot Size": 25, "Slap Hit Power": 42, "Charge Hit Power": 25, "Bunting": 30, "Speed": 60, "Throwing Arm": 70, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 2, "Pitching Stat Bar": 5, "Running Stat Bar": 6, "Fielding Stat Bar": 6, "Name": "Dixie", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 2, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 4 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 40, "Slap Contact Spot Size": 40, "Charge Contact Spot Size": 15, "Slap Hit Power": 45, "Charge Hit Power": 40, "Bunting": 80, "Speed": 50, "Throwing Arm": 30, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 4, "Pitching Stat Bar": 3, "Running Stat Bar": 5, "Fielding Stat Bar": 4, "Name": "Goomba", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 0 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 154, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 41, "Slap Contact Spot Size": 30, "Charge Contact Spot Size": 15, "Slap Hit Power": 45, "Charge Hit Power": 30, "Bunting": 80, "Speed": 70, "Throwing Arm": 60, "Weight": 0, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 3, "Pitching Stat Bar": 2, "Running Stat Bar": 7, "Fielding Stat Bar": 5, "Name": "Paragoomba", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 2, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 64 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 165, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 42, "Slap Contact Spot Size": 70, "Charge Contact Spot Size": 30, "Slap Hit Power": 40, "Charge Hit Power": 60, "Bunting": 30, "Speed": 30, "Throwing Arm": 50, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 6, "Pitching Stat Bar": 4, "Running Stat Bar": 3, "Fielding Stat Bar": 5, "Name": "Koopa(G)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 8 }, { "Curve Ball Speed": 115, "Fast Ball Speed": 155, "Cursed Ball": 50, "Curve": 60, "Curve Control": 50, "Char Id": 43, "Slap Contact Spot Size": 60, "Charge Contact Spot Size": 35, "Slap Hit Power": 40, "Charge Hit Power": 30, "Bunting": 20, "Speed": 60, "Throwing Arm": 60, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 2, "Pitching Stat Bar": 3, "Running Stat Bar": 6, "Fielding Stat Bar": 4, "Name": "Paratroopa(G)", "Fielding Arm": 0, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 2, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 64 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 44, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 42, "Charge Hit Power": 50, "Bunting": 25, "Speed": 50, "Throwing Arm": 40, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 4, "Pitching Stat Bar": 3, "Running Stat Bar": 5, "Fielding Stat Bar": 5, "Name": "Shy Guy(B)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 8 }, { "Curve Ball Speed": 130, "Fast Ball Speed": 165, "Cursed Ball": 50, "Curve": 55, "Curve Control": 50, "Char Id": 45, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 42, "Charge Hit Power": 50, "Bunting": 25, "Speed": 40, "Throwing Arm": 40, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 4, "Pitching Stat Bar": 4, "Running Stat Bar": 4, "Fielding Stat Bar": 5, "Name": "Shy Guy(Y)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 8 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 60, "Curve Control": 60, "Char Id": 46, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 42, "Charge Hit Power": 50, "Bunting": 25, "Speed": 40, "Throwing Arm": 40, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 4, "Pitching Stat Bar": 4, "Running Stat Bar": 4, "Fielding Stat Bar": 5, "Name": "Shy Guy(G)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 8 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 160, "Cursed Ball": 50, "Curve": 50, "Curve Control": 50, "Char Id": 47, "Slap Contact Spot Size": 50, "Charge Contact Spot Size": 30, "Slap Hit Power": 42, "Charge Hit Power": 50, "Bunting": 25, "Speed": 40, "Throwing Arm": 50, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 4, "Pitching Stat Bar": 4, "Running Stat Bar": 4, "Fielding Stat Bar": 6, "Name": "Shy Guy(Bk)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 0, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 8 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 150, "Cursed Ball": 90, "Curve": 50, "Curve Control": 50, "Char Id": 48, "Slap Contact Spot Size": 65, "Charge Contact Spot Size": 25, "Slap Hit Power": 40, "Charge Hit Power": 55, "Bunting": 30, "Speed": 40, "Throwing Arm": 50, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 5, "Pitching Stat Bar": 4, "Running Stat Bar": 4, "Fielding Stat Bar": 3, "Name": "Dry Bones(Gy)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 9 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 150, "Cursed Ball": 90, "Curve": 50, "Curve Control": 50, "Char Id": 49, "Slap Contact Spot Size": 70, "Charge Contact Spot Size": 25, "Slap Hit Power": 40, "Charge Hit Power": 55, "Bunting": 30, "Speed": 30, "Throwing Arm": 50, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 6, "Pitching Stat Bar": 4, "Running Stat Bar": 3, "Fielding Stat Bar": 3, "Name": "Dry Bones(G)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 9 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 155, "Cursed Ball": 90, "Curve": 50, "Curve Control": 50, "Char Id": 50, "Slap Contact Spot Size": 65, "Charge Contact Spot Size": 25, "Slap Hit Power": 44, "Charge Hit Power": 60, "Bunting": 30, "Speed": 30, "Throwing Arm": 50, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 6, "Pitching Stat Bar": 4, "Running Stat Bar": 3, "Fielding Stat Bar": 3, "Name": "Dry Bones(R)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 1, "Fielding Ability": 9 }, { "Curve Ball Speed": 120, "Fast Ball Speed": 150, "Cursed Ball": 90, "Curve": 50, "Curve Control": 50, "Char Id": 51, "Slap Contact Spot Size": 65, "Charge Contact Spot Size": 25, "Slap Hit Power": 40, "Charge Hit Power": 55, "Bunting": 30, "Speed": 30, "Throwing Arm": 60, "Weight": 1, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 3, "Batting Stat Bar": 5, "Pitching Stat Bar": 4, "Running Stat Bar": 3, "Fielding Stat Bar": 4, "Name": "Dry Bones(B)", "Fielding Arm": 1, "Batting Stance": 1, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 3, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 9 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 50, "Curve": 40, "Curve Control": 50, "Char Id": 52, "Slap Contact Spot Size": 30, "Charge Contact Spot Size": 20, "Slap Hit Power": 5, "Charge Hit Power": 90, "Bunting": 15, "Speed": 20, "Throwing Arm": 60, "Weight": 3, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 2, "Batting Stat Bar": 8, "Pitching Stat Bar": 3, "Running Stat Bar": 2, "Fielding Stat Bar": 3, "Name": "Bro(F)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 1, "Vertical Hit Trajectory": 2, "Character Class": 1, "Can Be Captain": 0, "Non Captain Star Swing": 2, "Fielding Ability": 1 }, { "Curve Ball Speed": 125, "Fast Ball Speed": 165, "Cursed Ball": 50, "Curve": 40, "Curve Control": 50, "Char Id": 53, "Slap Contact Spot Size": 30, "Charge Contact Spot Size": 20, "Slap Hit Power": 20, "Charge Hit Power": 80, "Bunting": 15, "Speed": 30, "Throwing Arm": 60, "Weight": 3, "Captain Star Hit/Pitch": 0, "Non Captain Star Pitch": 1, "Batting Stat Bar": 8, "Pitching Stat Bar": 3, "Running Stat Bar": 3, "Fielding Stat Bar": 3, "Name": "Bro(B)", "Fielding Arm": 0, "Batting Stance": 0, "Horizontal Hit Trajectory": 0, "Vertical Hit Trajectory": 0, "Character Class": 1, "Can Be Captain": 0, "Non Captain Star Swing": 3, "Fielding Ability": 1 }];

const BatterHitbox = [{ 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.0999999046325684, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': 0.30000001192092896, 'VerticalRangeBack': 1.899999976158142, 'EasyBattingSpotHorizontal': -1.7999999523162842, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': 0.4000000059604645, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.6500000953674316, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 1.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.30000001192092896, 'VerticalRangeBack': 1.7999999523162842, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.75, 'HorizontalRangeFar': 0.5, 'VerticalRangeFront': 0.10000000149011612, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -1.899999976158142, 'EasyBattingSpotVertical': -1.2999999523162842, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6000000238418579, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.600000023841858, 'EasyBattingSpotHorizontal': -2.0, 'EasyBattingSpotVertical': -1.2999999523162842, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': 0.20000000298023224, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.049999952316284, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.75, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.7000000476837158, 'EasyBattingSpotHorizontal': -1.7999999523162842, 'EasyBattingSpotVertical': -1.2999999523162842, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.7999999523162842, 'EasyBattingSpotHorizontal': -1.899999976158142, 'EasyBattingSpotVertical': -1.149999976158142, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 1.4500000476837158, 'VerticalRangeFront': 0.10000000149011612, 'VerticalRangeBack': 0.20000000298023224, 'EasyBattingSpotHorizontal': -3.5999999046325684, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.75, 'VerticalRangeFront': 0.4000000059604645, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.4000000953674316, 'EasyBattingSpotVertical': -1.600000023841858, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.8500000238418579, 'VerticalRangeFront': 0.30000001192092896, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.299999952316284, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.5, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.600000023841858, 'EasyBattingSpotHorizontal': -2.1500000953674316, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.949999988079071, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.7999999523162842, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 0.75, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.44999998807907104, 'HorizontalRangeFar': 0.8500000238418579, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.600000023841858, 'EasyBattingSpotHorizontal': -2.4000000953674316, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.100000023841858, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.5, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.7000000476837158, 'EasyBattingSpotHorizontal': -1.7999999523162842, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 0.75, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.5, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': 0.10000000149011612, 'VerticalRangeBack': 1.7999999523162842, 'EasyBattingSpotHorizontal': -1.899999976158142, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.8500000238418579, 'VerticalRangeFront': 0.30000001192092896, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.5, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': 0.20000000298023224, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.5, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.600000023841858, 'EasyBattingSpotHorizontal': -2.200000047683716, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.44999998807907104, 'HorizontalRangeFar': 0.8500000238418579, 'VerticalRangeFront': 0.5, 'VerticalRangeBack': 1.2999999523162842, 'EasyBattingSpotHorizontal': -2.299999952316284, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.44999998807907104, 'HorizontalRangeFar': 0.8500000238418579, 'VerticalRangeFront': 0.5, 'VerticalRangeBack': 1.2999999523162842, 'EasyBattingSpotHorizontal': -2.299999952316284, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.44999998807907104, 'HorizontalRangeFar': 0.8500000238418579, 'VerticalRangeFront': 0.5, 'VerticalRangeBack': 1.2999999523162842, 'EasyBattingSpotHorizontal': -2.299999952316284, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': 0.10000000149011612, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.0, 'EasyBattingSpotVertical': -1.2000000476837158, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': 0.10000000149011612, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.0, 'EasyBattingSpotVertical': -1.2000000476837158, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': 0.10000000149011612, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.0, 'EasyBattingSpotVertical': -1.2000000476837158, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.2000000476837158, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 1.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.600000023841858, 'EasyBattingSpotHorizontal': -1.75, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 0.75, 'TrimmedBat': 1.0 }, { 'HorizontalRangeNear': -0.44999998807907104, 'HorizontalRangeFar': 0.44999998807907104, 'VerticalRangeFront': -0.6000000238418579, 'VerticalRangeBack': 1.2000000476837158, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 0.75, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.44999998807907104, 'HorizontalRangeFar': 0.44999998807907104, 'VerticalRangeFront': -0.6000000238418579, 'VerticalRangeBack': 1.2000000476837158, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 0.75, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.44999998807907104, 'HorizontalRangeFar': 0.44999998807907104, 'VerticalRangeFront': -0.6000000238418579, 'VerticalRangeBack': 1.2000000476837158, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 0.75, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.44999998807907104, 'HorizontalRangeFar': 0.44999998807907104, 'VerticalRangeFront': -0.6000000238418579, 'VerticalRangeBack': 1.2000000476837158, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 0.75, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6000000238418579, 'HorizontalRangeFar': 0.699999988079071, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.0, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6000000238418579, 'HorizontalRangeFar': 0.699999988079071, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.0, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6000000238418579, 'HorizontalRangeFar': 0.699999988079071, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.0, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6000000238418579, 'HorizontalRangeFar': 0.699999988079071, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.0, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.7999999523162842, 'EasyBattingSpotHorizontal': -2.299999952316284, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.2000000476837158, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.2000000476837158, 'EasyBattingSpotHorizontal': -1.899999976158142, 'EasyBattingSpotVertical': -1.399999976158142, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.100000023841858, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': 0.20000000298023224, 'VerticalRangeBack': 1.7000000476837158, 'EasyBattingSpotHorizontal': -1.600000023841858, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.2000000476837158, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': 0.0, 'VerticalRangeBack': 1.5, 'EasyBattingSpotHorizontal': -2.0999999046325684, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 0.75, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.299999952316284, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.5, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.600000023841858, 'EasyBattingSpotHorizontal': -2.1500000953674316, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.600000023841858, 'EasyBattingSpotHorizontal': -2.0999999046325684, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.5, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.5, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.5, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.550000011920929, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.399999976158142, 'EasyBattingSpotHorizontal': -2.5, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.75, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.2999999523162842, 'EasyBattingSpotHorizontal': -1.899999976158142, 'EasyBattingSpotVertical': -1.100000023841858, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.75, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.2999999523162842, 'EasyBattingSpotHorizontal': -1.899999976158142, 'EasyBattingSpotVertical': -1.100000023841858, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.75, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.2999999523162842, 'EasyBattingSpotHorizontal': -1.899999976158142, 'EasyBattingSpotVertical': -1.100000023841858, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.75, 'HorizontalRangeFar': 0.550000011920929, 'VerticalRangeFront': -0.10000000149011612, 'VerticalRangeBack': 1.2999999523162842, 'EasyBattingSpotHorizontal': -1.899999976158142, 'EasyBattingSpotVertical': -1.100000023841858, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 0.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.2000000476837158, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 1.0 }, { 'HorizontalRangeNear': -0.6499999761581421, 'HorizontalRangeFar': 0.6499999761581421, 'VerticalRangeFront': -0.20000000298023224, 'VerticalRangeBack': 1.2000000476837158, 'EasyBattingSpotHorizontal': -1.7000000476837158, 'EasyBattingSpotVertical': -1.0, 'BoxMoveSpeed': 0.05000000074505806, 'PitchingHeight': 1.0, 'TrimmedBat': 1.0 }]

const BallContactArray_807b6294 = [[[[50, 98, 106, 150, 30, 95, 109, 170], [40, 98, 106, 160, 20, 95, 109, 180]], [[60, 99, 101, 150, 40, 97, 103, 170], [55, 99, 101, 160, 35, 97, 103, 180]], [[50, 99, 101, 140, 40, 97, 103, 160], [45, 99, 101, 145, 35, 97, 103, 165]], [[80, 98, 102, 120, 35, 95, 105, 165], [80, 98, 102, 110, 35, 95, 105, 165]], [[0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]]], [[[40, 96, 104, 150, 30, 93, 107, 170], [30, 96, 104, 170, 20, 93, 107, 180]], [[60, 96, 104, 140, 35, 93, 107, 170], [50, 96, 104, 150, 25, 93, 107, 180]], [[60, 99, 101, 140, 40, 97, 103, 160], [40, 99, 101, 160, 30, 97, 103, 170]], [[90, 98, 102, 110, 75, 95, 105, 125], [90, 98, 102, 110, 75, 95, 105, 125]], [[0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]]]];

const ContactPerfectThresholds = [[99.1, 100.9, 100.5], [99.7, 100.3, 1.1], [99.7, 100.3, 1.0]];

const contact_ChemLinkMultipliers = [1.0, 1.05, 1.1, 1.2];

const BattingAngleRanges = [[[[0, 0], [0, 0], [-700, -500], [-500, -350], [-400, -250], [-350, -100], [-150, 250], [200, 300], [250, 400], [350, 550], [550, 700], [0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [-600, -400], [-400, -200], [-300, -100], [-200, 200], [100, 400], [300, 450], [350, 600], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]]], [[[0, 0], [0, 0], [-750, -500], [-500, -300], [-300, -150], [-150, 200], [200, 400], [300, 450], [400, 600], [500, 600], [600, 700], [0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [-600, -400], [-400, -200], [-300, 100], [100, 400], [100, 400], [200, 500], [500, 700], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]]], [[[0, 0], [0, 0], [-700, -600], [-600, -400], [-450, -350], [-400, -300], [-350, -200], [-200, 150], [150, 300], [300, 700], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [[0, 0], [0, 0], [0, 0], [-550, -300], [-400, -200], [-300, -100], [-300, -100], [-100, 200], [200, 450], [450, 650], [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]]]];

const BattingVerticalAngleWeights = [[[[[0, 10, 20, 30, 40], [20, 20, 20, 20, 20], [10, 25, 30, 25, 10], [20, 20, 20, 20, 20], [40, 30, 20, 10, 0]], [[0, 10, 20, 30, 40], [20, 20, 20, 20, 20], [10, 25, 30, 25, 10], [20, 20, 20, 20, 20], [40, 30, 20, 10, 0]]], [[[10, 0, 20, 30, 40], [20, 22, 22, 28, 8], [20, 25, 25, 25, 5], [20, 22, 22, 28, 8], [10, 0, 20, 30, 40]], [[10, 0, 20, 30, 40], [20, 22, 22, 28, 8], [20, 25, 25, 25, 5], [20, 22, 22, 28, 8], [10, 0, 20, 30, 40]]]], [[[[0, 10, 20, 30, 40], [5, 5, 15, 40, 35], [5, 5, 20, 40, 35], [5, 5, 15, 40, 35], [40, 30, 20, 10, 0]], [[0, 10, 20, 30, 40], [5, 5, 15, 40, 35], [5, 5, 20, 40, 35], [5, 5, 15, 40, 35], [40, 30, 20, 10, 0]]], [[[5, 0, 10, 40, 45], [5, 21, 12, 29, 33], [5, 23, 15, 27, 30], [5, 21, 12, 29, 33], [5, 0, 10, 40, 45]], [[5, 0, 10, 40, 45], [5, 21, 12, 29, 33], [5, 23, 15, 27, 30], [5, 21, 12, 29, 33], [5, 0, 10, 40, 45]]]], [[[[10, 20, 20, 20, 30], [35, 40, 15, 5, 5], [30, 40, 20, 5, 5], [35, 40, 15, 5, 5], [40, 30, 20, 5, 5]], [[10, 20, 20, 20, 30], [35, 40, 15, 5, 5], [30, 40, 20, 5, 5], [35, 40, 15, 5, 5], [40, 30, 20, 5, 5]]], [[[10, 0, 20, 30, 40], [35, 30, 22, 10, 3], [30, 30, 25, 15, 0], [35, 30, 22, 10, 3], [10, 0, 20, 30, 40]], [[10, 0, 20, 30, 40], [35, 30, 22, 10, 3], [30, 30, 25, 15, 0], [35, 30, 22, 10, 3], [10, 0, 20, 30, 40]]]]];

const UINT_ARRAY_ARRAY_807b7134 = [[100, 100, 1118480, 1118480, 0], [100, 100, 1118480, 1118480, 2], [101, 102, 1118480, 1118480, 1], [90, 90, 1118480, 1118480, 0], [94, 95, 1118480, 1118480, 0], [102, 103, 1118480, 1118480, 1], [90, 90, 1118480, 17825792, 0], [85, 90, 1118480, 1118480, 0], [102, 103, 1118480, 1118480, 1], [100, 100, 1118480, 1118480, 0], [95, 100, 1118480, 1118480, 2], [104, 105, 1118480, 1118480, 1], [60, 60, 1118480, 1118480, 0], [70, 75, 1118480, 1118480, 0], [87, 90, 1118480, 1118480, 1], [70, 70, 1118480, 1118480, 0], [80, 85, 1118480, 1118480, 0], [105, 110, 1118480, 1118480, 1], [50, 50, 1114384, 1114384, 0]];

const SHORT_ARRAY_ARRAY_ARRAY_ARRAY_807b67cc = [[[[-50, 50], [50, 100], [100, 300], [300, 400], [400, 500]], [[50, 150], [150, 200], [200, 250], [250, 300], [300, 350]], [[50, 150], [150, 200], [150, 200], [200, 300], [300, 350]], [[50, 150], [150, 200], [200, 250], [250, 300], [300, 350]], [[-50, 50], [50, 100], [100, 300], [300, 400], [400, 500]]], [[[400, 450], [450, 500], [500, 550], [550, 600], [550, 600]], [[50, 100], [100, 150], [300, 400], [350, 450], [400, 500]], [[100, 200], [350, 400], [450, 500], [500, 550], [530, 580]], [[50, 100], [100, 150], [300, 400], [350, 450], [400, 500]], [[400, 450], [450, 500], [500, 550], [550, 600], [550, 600]]]];

const BallHitArray = [[[100, 130, -110], [140, 145, -100], [145, 150, -110], [140, 145, -100], [100, 130, -110]], [[140, 150, -120], [162, 177, -160], [160, 170, 0], [162, 177, -160], [140, 150, -120]], [[120, 130, -200], [140, 150, -200], [160, 170, -200], [140, 150, -200], [120, 130, -200]], [[150, 160, -300], [170, 190, -300], [190, 200, -300], [170, 190, -300], [150, 160, -300]], [[130, 140, -200], [145, 155, -300], [160, 170, -300], [145, 155, -300], [130, 140, -200]], [[140, 150, -150], [190, 200, -200], [200, 210, -180], [190, 200, -200], [140, 150, -150]]];

const StarSwingExitVelocityArray = [[[150, 160, -150], [160, 170, -150], [170, 180, -100], [160, 170, -150], [150, 160, -150]], [[150, 160, -250], [160, 170, -250], [170, 180, -250], [160, 170, -250], [150, 160, -250]], [[170, 180, -300], [170, 180, -300], [190, 200, -300], [170, 180, -300], [170, 180, -300]]];

const FLOAT_ARRAY_ARRAY_807b7480 = [[1.0, 1.0], [1.0, 0.8], [1.0, 0.5]];

const FieldTrajectories = [[1.0, 1.0, 1.0, 1.0, 1.0], [0.85, 0.95, 1.0, 1.05, 1.02], [1.02, 1.05, 1.0, 0.95, 0.85]];

const NonCaptainStarSwingBattingVerticalAngleRanges = [[[250, 300], [300, 350], [350, 400], [400, 450], [450, 500]], [[50, 100], [50, 100], [50, 100], [50, 100], [50, 100]], [[120, 160], [160, 200], [160, 200], [160, 200], [120, 160]]];

const CaptainStarSwingBattingVerticalAngleRanges = [[[59, 61], [59, 61], [59, 61], [59, 61], [59, 61]], [[-101, -99], [-101, -99], [-101, -99], [-101, -99], [-101, -99]], [[350, 400], [350, 400], [350, 400], [350, 400], [350, 400]], [[450, 500], [450, 500], [450, 500], [450, 500], [450, 500]], [[120, 160], [160, 200], [160, 200], [160, 200], [120, 160]], [[250, 300], [250, 300], [250, 300], [250, 300], [250, 300]], [[64, 80], [64, 80], [64, 80], [64, 80], [64, 80]], [[64, 80], [64, 80], [64, 80], [64, 80], [64, 80]], [[350, 400], [350, 400], [350, 400], [350, 400], [350, 400]], [[200, 250], [200, 250], [200, 250], [200, 250], [200, 250]], [[350, 600], [350, 600], [350, 600], [350, 600], [350, 600]], [[350, 600], [350, 600], [350, 600], [350, 600], [350, 600]]];

const SHORT_ARRAY_ARRAY_807b6af4 = [[0, 0], [500, 550], [500, 550]];

const CaptainStarSwingExitVelocityArray = [[[140, 150, 0], [150, 160, 150], [160, 170, 150], [150, 160, 150], [140, 150, 0]], [[120, 130, 0], [130, 150, 50], [160, 170, 100], [130, 150, 50], [120, 130, 0]], [[90, 100, 80], [100, 110, 80], [110, 120, 80], [100, 110, 80], [90, 100, 80]], [[60, 70, 80], [70, 80, 80], [70, 80, 80], [70, 80, 80], [60, 70, 80]], [[170, 180, -120], [170, 180, -130], [190, 200, -125], [170, 180, -135], [170, 180, -125]], [[150, 160, -140], [150, 160, -150], [160, 170, -150], [150, 160, -150], [150, 160, -140]], [[170, 180, 0], [170, 180, 0], [190, 200, 0], [170, 180, 0], [170, 180, 0]], [[160, 170, 0], [160, 170, 0], [180, 190, 0], [160, 170, 0], [160, 170, 0]], [[90, 130, -650], [90, 130, -650], [90, 130, -650], [90, 130, -650], [90, 130, -650]], [[140, 160, -400], [140, 160, -400], [140, 160, -400], [140, 160, -400], [140, 160, -400]], [[130, 140, -100], [140, 150, -100], [150, 160, -100], [140, 150, -100], [130, 140, -100]], [[130, 140, -100], [140, 150, -100], [150, 160, -100], [140, 150, -100], [130, 140, -100]]];

const RandomBattingFactors_ChemLinkMult0 = [1.0, 1.1, 1.25, 1.5];

const BattingExtensions = [[-0.85, 0.15], [-0.35, 0.35]]

const FLOAT_ARRAY_ARRAY_807b72bc = [[0.5, 0.001, 0.003], [0.25, 0.006, 0.008]]

var StaticRandomInt1 = 7769; // <= 32767
var StaticRandomInt2 = 5359; // <= 32767
var USHORT_8089269c = 1828; // <= 32767

const RightSour = 0;
const RightNice = 1;
const Perfect = 2;
const LeftNice = 3;
const LeftSour = 4;

const Righty = 0;
const Lefty = 1;

const Slap = 0;
const Charge = 1;
const Star = 2;
const Bunt = 3;

const SourSlap = 0x0;
const NiceSlap = 0x1;
const PerfectSlap = 0x2;
const SourCharge = 0x3;
const NiceCharge = 0x4;
const PerfectCharge = 0x5;
const SourChangeUpSlap = 0x6;
const NiceChangeUpSlap = 0x7;
const PerfectChangeUpSlap = 0x8;
const SourChangeUpCharge = 0x9;
const NiceChangeUpCharge = 0xa;
const PerfectChangeUpCharge = 0xb;
const PerfectPitchSourSlap = 0xc;
const PerfectPitchNiceSlap = 0xd;
const PerfectPitchPerfectSlap = 0xe;
const PerfectPitchSourCharge = 0xf;
const PerfectPitchNiceCharge = 0x10;
const PerfectPitchPerfectCharge = 0x11;

const PitchCurve = 0;
const PitchCharge = 1;
const PitchChangeUp = 2;

const PitchChargeType_None = 0;
const PitchChargeType_Unknown = 1;
const PitchChargeType_Charge = 2;
const PitchChargeType_Perfect = 3;

const PushPullNone = 0;
const PullStickTowardsHitting = 1;
const PushStickAway = 2;

var inMemBatter = undefined;
var inMemPitcher = undefined;
var inMemBall = undefined;
var Hit_HorizontalAngle = 0;
var Hit_VerticalAngle = 0;
var Hit_HorizontalPower = 0;
var AddedContactGravity = 0;
var Display_Output = {};

function floor(f) {
    return Math.trunc(f);
}

function LinearInterpolateToNewRange(value, prevMin, prevMax, nextMin, nextMax) {
    let min = 0.0;
    let max = 0.0;
    if (min == (prevMax - prevMin)) {
        max = 1.0;
    }
    else {
        max = 1.0;
        calcedValue = (value - prevMin) / (prevMax - prevMin);

        if ((calcedValue <= max)) {
            max = calcedValue
            if (calcedValue < min) {
                max = min;
            }
        }
    }
    return (nextMax - nextMin) * max + nextMin;

}

function calculateContact() {
    let chargeUp = inMemBatter.BatterAtPlate_BatterCharge_Up;
    let contactSize = inMemBatter.Batter_SlapContactSize;
    if (inMemBatter.AtBat_Mystery_CaptainStarSwing != 0) {
        // if there was a star swing, make contact size 100
        chargeUp = 0.0;
        contactSize = 100.0;
    }
    if (inMemBatter.Batter_IsBunting == false) {
        if (chargeUp <= 0.0) {
            // If not charging
            if (inMemBatter.RandomBattingFactors_ChemLinksOnBase != 0) {
                // If there are chem links on base, make the contact size larger
                contactSize *= contact_ChemLinkMultipliers[inMemBatter.RandomBattingFactors_ChemLinksOnBase];
            }
        }
        else {
            // else there is a charge
            contactSize = inMemBatter.Batter_ChargeContactSize;
        }
    }
    else {
        // else bunting, use bunting contact size
        contactSize = inMemBatter.Batter_Bunting;
    }

    let diffInX = inMemBatter.interstitialBallContact_X - inMemBatter.posX;
    if (inMemBatter.AtBat_BatterHand == Lefty) {
        diffInX = -diffInX;
    }

    Display_Output["DiffInX"] = diffInX;

    if (diffInX >= 0.0) {
        inMemBatter.CalculatedBallPos = 100.0 * (diffInX / BatterHitbox[inMemBatter.Batter_CharID].HorizontalRangeFar) + 100.0;
    }
    else {
        inMemBatter.CalculatedBallPos = -(100.0 * (diffInX / BatterHitbox[inMemBatter.Batter_CharID].HorizontalRangeNear) - 100.0);
    }

    if (inMemBatter.CalculatedBallPos < 0.0) {
        inMemBatter.CalculatedBallPos = 0.0;
    }
    if (200.0 < inMemBatter.CalculatedBallPos) {
        inMemBatter.CalculatedBallPos = 200.0;
    }

    Display_Output["Contact Point"] = inMemBatter.CalculatedBallPos;

    // Higher is better, makes ranges larger
    contactSize = contactSize / 100.0;
    // Contact sizes are only based on slap/charge and trimming, and AI
    let big_Array = BallContactArray_807b6294[inMemBatter.AtBat_TrimmedBat][inMemBatter.Batter_Contact_SlapChargeBuntStar][inMemBatter.EasyBatting];
    let b0 = big_Array[0];
    let b1 = big_Array[1];
    let b2 = big_Array[2];
    let b3 = big_Array[3];
    inMemBatter.RightNiceThreshold = contactSize * (big_Array[4] - b0) + b0;
    inMemBatter.RightPerfectThreshold = contactSize * (big_Array[5] - b1) + b1;
    inMemBatter.LeftPerfectThreshold = contactSize * (big_Array[6] - b2) + b2;
    inMemBatter.LeftNiceThreshold = contactSize * (big_Array[7] - b3) + b3;

    inMemBatter.Batter_ContactType = RightSour;
    if (inMemBatter.RightNiceThreshold <= inMemBatter.CalculatedBallPos) {
        inMemBatter.Batter_ContactType = RightNice;

        if (inMemBatter.RightPerfectThreshold <= inMemBatter.CalculatedBallPos) {
            inMemBatter.Batter_ContactType = Perfect;

            if (inMemBatter.LeftPerfectThreshold <= inMemBatter.CalculatedBallPos) {
                inMemBatter.Batter_ContactType = LeftNice;

                if (inMemBatter.LeftNiceThreshold <= inMemBatter.CalculatedBallPos) {
                    inMemBatter.Batter_ContactType = LeftSour;
                }
            }
        }
    }

    if (inMemBatter.Batter_ContactType == Perfect) {
        if (inMemBatter.CalculatedBallPos >= 100.0) {
            inMemBatter.field15_0x44 = 1.0 - (inMemBatter.CalculatedBallPos - inMemBatter.RightPerfectThreshold) / (inMemBatter.LeftPerfectThreshold - inMemBatter.RightPerfectThreshold);
        }
        else {
            inMemBatter.field15_0x44 = (inMemBatter.CalculatedBallPos - inMemBatter.RightPerfectThreshold) / (inMemBatter.LeftPerfectThreshold - inMemBatter.RightPerfectThreshold);
        }
        if ((ContactPerfectThresholds[inMemBatter.Batter_Contact_SlapChargeBuntStar][0] <= inMemBatter.CalculatedBallPos) && (inMemBatter.CalculatedBallPos <= ContactPerfectThresholds[inMemBatter.Batter_Contact_SlapChargeBuntStar][1])) {
            inMemBatter.mostPerfectContact = true;
        }
    }
    else if (inMemBatter.Batter_ContactType < Perfect) {
        if (inMemBatter.Batter_ContactType == RightSour) {
            inMemBatter.field15_0x44 = inMemBatter.CalculatedBallPos / inMemBatter.RightNiceThreshold;
        }
        else {
            inMemBatter.field15_0x44 = (inMemBatter.CalculatedBallPos - inMemBatter.RightNiceThreshold) / (inMemBatter.RightPerfectThreshold - inMemBatter.RightNiceThreshold);
        }
    }
    else if (inMemBatter.Batter_ContactType < LeftSour) {
        inMemBatter.field15_0x44 = 1.0 - (inMemBatter.CalculatedBallPos - inMemBatter.LeftPerfectThreshold) / (inMemBatter.LeftNiceThreshold - inMemBatter.LeftPerfectThreshold);
    }
    else {
        inMemBatter.field15_0x44 = 1.0 - (inMemBatter.CalculatedBallPos - inMemBatter.LeftNiceThreshold) / (200.0 - inMemBatter.LeftNiceThreshold);
    }
    if (inMemBatter.AtBat_MoonShot != false) {
        if (inMemBatter.Batter_ContactType == Perfect) {
            inMemBatter.AtBat_Mystery_CaptainStarSwing = 0;
        }
        else {
            inMemBatter.AtBat_MoonShot = false;
        }
    }
    if ((inMemBatter.Batter_Contact_SlapChargeBuntStar == Slap) || (inMemBatter.Batter_Contact_SlapChargeBuntStar == Charge)) {
        // Default to Sour
        inMemBatter.Batter_HitType = SourSlap;
        // Adjust if the hit was nice or perfect
        if (inMemBatter.Batter_ContactType == Perfect) {
            inMemBatter.Batter_HitType = PerfectSlap;
        }
        else if ((inMemBatter.Batter_ContactType == RightNice) || (inMemBatter.Batter_ContactType == LeftNice)) {
            inMemBatter.Batter_HitType = NiceSlap;
        }
        // Adjust the HitType on a perfect pitch
        // 0xc for strike, 0xf for hit
        if (inMemPitcher.ChargePitchType == PitchChargeType_Perfect) {
            if (inMemBatter.Batter_Contact_SlapChargeBuntStar == Slap) {
                inMemBatter.Batter_HitType += PerfectPitchSourSlap;
            }
            else {
                inMemBatter.Batter_HitType += PerfectPitchSourCharge;
            }
        }
        else {
            // Else not perfect charge pitch
            // If the pitch was Curve and contact was not a hit, it was a charge:
            // adjust by 0x3
            if (inMemPitcher.Pitcher_TypeOfPitch == PitchCurve) {
                if (inMemBatter.Batter_Contact_SlapChargeBuntStar != Slap) {
                    inMemBatter.Batter_HitType += SourCharge;
                }
            }
            else {
                // Else non-curve, which I believe is just a change up
                // adjust by 0x6 for Hit
                // adjust by 0x9 for Charge
                if (inMemBatter.Batter_Contact_SlapChargeBuntStar == Slap) {
                    inMemBatter.Batter_HitType += SourChangeUpSlap;
                }
                else {
                    inMemBatter.Batter_HitType += SourChangeUpCharge;
                }
            }
        }
    }
    Display_Output.Contact = ["Near Sour", "Near Nice", "Perfect", "Far Nice", "Far Sour"][inMemBatter.Batter_ContactType]
    return;
}

function AdjustBallAngle(ballAngle) {
    if (ballAngle < 0) {
        for (; ballAngle < 0; ballAngle += 0x1000) {
        }
    }
    if (0xfff < ballAngle) {
        for (; 0xfff < ballAngle; ballAngle += -0x1000) {
        }
        return ballAngle;
    }
    return ballAngle;
}

function WeightedRandomIndex(vals, count) {
    let randomSum = 0;

    let loopSum = 0;

    vals.forEach(element => {
        loopSum += element;
    });

    let finSum = loopSum;

    if (loopSum < 0) {
        finSum = -loopSum;
    }

    if (finSum < 2) {
        randomSum = 0;
    }
    else {
        // update RandomInt in case it's called successive times
        StaticRandomInt1 = (StaticRandomInt1 - (StaticRandomInt2 & 0xff)) + floor(StaticRandomInt2 / finSum) + USHORT_8089269c;
        randomRange = StaticRandomInt1 - floor(StaticRandomInt1 / finSum) * finSum;
        randomSum = (randomRange >> 0x1f ^ randomRange) - (randomRange >> 0x1f);
        if (loopSum < 0) {
            randomSum = -randomSum;
        }
    }
    p_loopArray = vals;
    newIndex = 0;
    let i = 0;
    if (0 < count) {
        do {
            if (randomSum < p_loopArray[i]) {
                return newIndex;
            }
            randomSum -= p_loopArray[i];
            newIndex += 1;
            count += -1;
            i++;
        } while (count != 0);
    }
    return 0;
}

function calculateHorizontalAngle() {
    let input = inMemBatter.ControllerInput;

    isCharge = inMemBatter.Batter_Contact_SlapChargeBuntStar != Slap ? 1 : 0;
    inMemBatter.AtBat_InputDirection = PushPullNone;
    if (inMemBatter.AtBat_Mystery_BatDirection == 0) {
        if (!input.Right) {
            if (input.Left) {
                if (inMemBatter.AtBat_BatterHand == Righty) {
                    inMemBatter.AtBat_InputDirection = PullStickTowardsHitting;
                }
                else {
                    inMemBatter.AtBat_InputDirection = PushStickAway;
                }
            }
        }
        else if (inMemBatter.AtBat_BatterHand == Righty) {
            inMemBatter.AtBat_InputDirection = PushStickAway;
        }
        else {
            inMemBatter.AtBat_InputDirection = PullStickTowardsHitting;
        }
    }

    let inputDirection = inMemBatter.AtBat_InputDirection;
    let frameOfContact = inMemBatter.Frame_SwingContact1;
    let iVar2 = BattingAngleRanges[inputDirection][isCharge][frameOfContact][0];
    let iVar1 = BattingAngleRanges[inputDirection][isCharge][frameOfContact][1];


    Display_Output["Horizontal Range"] =
        [
            BattingAngleRanges[inputDirection][isCharge][frameOfContact][0] + 0x400,
            BattingAngleRanges[inputDirection][isCharge][frameOfContact][1] + 0x400
        ];


    iVar1 -= iVar2;
    if (iVar1 < 0) {
        iVar2 += StaticRandomInt1 - floor(StaticRandomInt1 / -iVar1) * -iVar1;
    }
    else if (0 < iVar1) {
        iVar2 += StaticRandomInt1 - floor(StaticRandomInt1 / iVar1) * iVar1;
    }
    iVar2 += 0x400;
    if (inMemBatter.AtBat_BatterHand != Righty) {
        if (iVar2 < 0x801) {
            iVar2 = 0x800 - iVar2;
        }
        else {
            iVar2 = 0x1800 - iVar2;
        }
    }
    Hit_HorizontalAngle = AdjustBallAngle(iVar2);
}

function calculateVerticalAngle() {
    iVar5 = 0;
    upDown = 0;
    slapOrCharge = inMemBatter.Batter_Contact_SlapChargeBuntStar;
    pInput = inMemBatter.ControllerInput;

    let handledVerticalZones = false;

    let captainStarSwing = inMemBatter.AtBat_Mystery_CaptainStarSwing;
    if (captainStarSwing == 0) {
        if (inMemBatter.AtBat_MoonShot == false) {
            noncaptainStarSwing = inMemBatter.nonCaptainStarSwingContact;
            if (noncaptainStarSwing == 0) {
                if (inMemBatter.AtBat_Mystery_BatDirection == 0) {
                    if (!pInput.Up) {
                        if (pInput.Down) {
                            // 2 == Down
                            upDown = 2;
                        }
                    }
                    else {
                        // 1 == Up
                        upDown = 1;
                    }
                }

                pabVar4 = BattingVerticalAngleWeights[inMemBatter.AtBat_HitTrajectoryLow][slapOrCharge][inMemBatter.EasyBatting][inMemBatter.Batter_ContactType];
                let local_28 = pabVar4[0];
                let local_27 = pabVar4[1];
                let local_26 = pabVar4[2];
                let local_25 = pabVar4[3];
                let local_24 = pabVar4[4];

                uVar4 = UINT_ARRAY_ARRAY_807b7134[inMemBatter.Batter_HitType][3 - inMemBatter.EasyBatting];
                uVar6 = UINT_ARRAY_ARRAY_807b7134[inMemBatter.Batter_HitType][4];
                uVar5 = uVar4 & 0xf000000;
                if (uVar5 == 0) {
                    uVar16 = uVar4 & 0xf;
                    if (uVar16 != 0) {
                        iVar5 = 2;
                        if (uVar16 == 2) {
                            if (upDown == 2) {
                                iVar5 = 0;
                                uVar6 = 2;
                            }
                        }
                        else if ((uVar16 == 3) && (upDown == 1)) {
                            iVar5 = 0;
                            uVar6 = 2;
                        }
                    }
                }
                else {
                    iVar5 = 1;
                    if (uVar5 == 0x2000000) {
                        if (upDown == 2) {
                            iVar5 = 0;
                            uVar6 = 2;
                        }
                    }
                    else if ((uVar5 == 0x3000000) && (upDown == 1)) {
                        iVar5 = 0;
                        uVar6 = 2;
                    }
                }

                if (uVar6 == 1) {
                    var DAT_80893800_VertAngle = 2;
                }
                else if (uVar6 == 2) {
                    var DAT_80893800_VertAngle = 3;
                }

                if (iVar5 == 0) {
                    if ((uVar4 & 0x1e0) == 0) {
                        local_28 = 0;
                    }
                    if ((uVar4 & 0xf0) == 0) {
                        local_27 = 0;
                    }
                    if ((uVar4 & 0x78) == 0) {
                        local_26 = 0;
                    }
                    if ((uVar4 & 0x3c) == 0) {
                        local_25 = 0;
                    }
                    if ((uVar4 & 0x1e) == 0) {
                        local_24 = 0;
                    }
                    if (upDown == 2) {
                        local_24 += local_28;
                        local_28 = 0;
                    }
                    else if (upDown == 1) {
                        cVar2 = local_24 + local_28;
                        local_24 = 0;
                        local_28 = local_25 + cVar2;
                        local_25 = 0;
                    }
                }

                if (iVar5 == 0) {
                    weightedRandomIndex = WeightedRandomIndex([local_28, local_27, local_26, local_25, local_24], 5);

                    // Regular star swings
                    lowerRange = SHORT_ARRAY_ARRAY_ARRAY_ARRAY_807b67cc[slapOrCharge][inMemBatter.Batter_ContactType][weightedRandomIndex][0];
                    higherRange = SHORT_ARRAY_ARRAY_ARRAY_ARRAY_807b67cc[slapOrCharge][inMemBatter.Batter_ContactType][weightedRandomIndex][1];

                    Display_Output["Vertical Zones"] = SHORT_ARRAY_ARRAY_ARRAY_ARRAY_807b67cc[slapOrCharge][inMemBatter.Batter_ContactType];
                    Display_Output["Vertical Zone Chances"] = [local_28, local_27, local_26, local_25, local_24];
                    Display_Output["Selected Vertical Zone"] = weightedRandomIndex;
                    handledVerticalZones = true;
                }
                else {
                    lowerRange = SHORT_ARRAY_ARRAY_807b6af4[iVar5][0];
                    higherRange = SHORT_ARRAY_ARRAY_807b6af4[iVar5][1];
                }
            }
            else {
                // Non Captain Star Swings
                lowerRange = NonCaptainStarSwingBattingVerticalAngleRanges[noncaptainStarSwing - 1][inMemBatter.Batter_ContactType][0];
                higherRange = NonCaptainStarSwingBattingVerticalAngleRanges[noncaptainStarSwing - 1][inMemBatter.Batter_ContactType][1];
            }
        }
        else {
            // Moonshot, also uses Charge Angles
            lowerRange = SHORT_ARRAY_ARRAY_ARRAY_ARRAY_807b67cc[1][inMemBatter.Batter_ContactType][2][0];
            higherRange = SHORT_ARRAY_ARRAY_ARRAY_ARRAY_807b67cc[1][inMemBatter.Batter_ContactType][2][1];
        }
    }
    else {
        // Captain Star Swings
        lowerRange = CaptainStarSwingBattingVerticalAngleRanges[captainStarSwing - 1][inMemBatter.Batter_ContactType][0];
        higherRange = CaptainStarSwingBattingVerticalAngleRanges[captainStarSwing - 1][inMemBatter.Batter_ContactType][1];
    }

    if (!handledVerticalZones) {
        Display_Output["Vertical Zones"] = [[lowerRange, higherRange]];
        Display_Output["Vertical Zone Chances"] = [100];
        Display_Output["Selected Vertical Zone"] = 0;
    }

    Display_Output["Vertical Range"] = [lowerRange, higherRange]

    sVar3 = lowerRange + (StaticRandomInt1 - floor(StaticRandomInt1 / (higherRange - lowerRange)) * (higherRange - lowerRange));

    Hit_VerticalAngle = sVar3;

    if (Hit_VerticalAngle < 0x401) {
        if (Hit_VerticalAngle < -0x400) {
            Hit_VerticalAngle += 0x1000;
            Hit_HorizontalAngle = AdjustBallAngle(Hit_HorizontalAngle + 0x800);
        }
        else if (Hit_VerticalAngle < 0) {
            Hit_VerticalAngle += 0x1000;
        }
    }
    else {
        Hit_VerticalAngle = 0x800 - Hit_VerticalAngle;
        Hit_HorizontalAngle = AdjustBallAngle(Hit_HorizontalAngle + 0x800);
    }
}

function calculateHitPower() {
    let uVar2 = 0;
    let niceSour = inMemBatter.Batter_ContactType;
    let charged = inMemBatter.BatterAtPlate_BatterCharge_Up;

    // Regular contact array
    let contactArray = BallHitArray[inMemBatter.Batter_Contact_SlapChargeBuntStar][niceSour];

    if (inMemBatter.AtBat_Mystery_CaptainStarSwing == 0) {
        if (inMemBatter.nonCaptainStarSwingContact != 0) {
            charged = 0.0;
            // NonCaptainStarSwing array
            contactArray = StarSwingExitVelocityArray[inMemBatter.nonCaptainStarSwingContact - 1][niceSour];
        }
    }
    else {
        charged = 0.0;
        // CaptainStarSwingArray
        contactArray = CaptainStarSwingExitVelocityArray[inMemBatter.AtBat_Mystery_CaptainStarSwing - 1][niceSour];
    }

    if (inMemBatter.AtBat_Mystery_DidPopFlyOrGrounderConnect != false) {
        inMemBatter.BatterAtPlate_BatterCharge_Down = 1.0;
    }

    if (inMemBatter.AtBat_MoonShot) {
        // Moonshot array
        contactArray = BallHitArray[1][inMemBatter.Batter_ContactType];
    }

    // Low value
    arrayV1 = contactArray[0];
    // High Value
    arrayV2 = contactArray[1];
    // 0x44 is a range 0-1 towards the better contact
    calcedDistance = inMemBatter.field15_0x44 * (arrayV2 - arrayV1) + arrayV1;
    // Non star swing
    if (inMemBatter.AtBat_Mystery_CaptainStarSwing == 0) {
        if (charged <= 0.0) {
            // If not charged, use slap hit power
            power = inMemBatter.Batter_SlapHitPower;
        }
        else {
            // use charge power
            power = (inMemBatter.BatterAtPlate_ChargePower - (inMemBatter.BatterAtPlate_ChargePower - inMemBatter.Batter_SlapHitPower) * 0.5 * (1.0 - inMemBatter.BatterAtPlate_BatterCharge_Down));
        }
    }
    else {
        // if star swing, power is always 100
        power = 100.0;
    }
    if ((inMemBatter.AtBat_Mystery_CaptainStarSwing == 0) && (inMemBatter.nonCaptainStarSwingContact == 0)) {
        perfectNiceSour = 2;
        if ((inMemBatter.Batter_ContactType == RightNice) || (inMemBatter.Batter_ContactType == LeftNice)) {
            perfectNiceSour = 1;
        }
        else if (inMemBatter.Batter_ContactType == Perfect) {
            perfectNiceSour = 0;
        }
        dVar3 = LinearInterpolateToNewRange(inMemPitcher.calced_cursedBall, 0.0, 100.0, FLOAT_ARRAY_ARRAY_807b7480[perfectNiceSour][0], FLOAT_ARRAY_ARRAY_807b7480[perfectNiceSour][1]);
        power = (power * dVar3);
    }
    if ((inMemBatter.RandomBattingFactors_ChemLinksOnBase != 0) && (0.0 < charged)) {
        // If charging, add a multiplier for chem on base
        power = (power * RandomBattingFactors_ChemLinkMult0[inMemBatter.RandomBattingFactors_ChemLinksOnBase]);
    }
    if (-1 < inMemBatter.Batter_HitType) {
        power = (power * UINT_ARRAY_ARRAY_807b7134[inMemBatter.Batter_HitType][1 - inMemBatter.EasyBatting]) / 100.0;
    }
    fVar1 = (calcedDistance * ((power / 100.0) * (1.0 - 0.8) + 0.8));

    AddedContactGravity = 0.00001 * contactArray[2];
    if (inMemBatter.AtBat_Mystery_CaptainStarSwing == 0) {
        ballAngle = Hit_HorizontalAngle;
        if (ballAngle < 0x200) {
            niceSour = 0;
        }
        else if (ballAngle < 0x601) {
            niceSour = ballAngle - 0x200;
        }
        else {
            niceSour = 0x400;
        }
        if (inMemBatter.AtBat_BatterHand != Righty) {
            niceSour = 0x400 - niceSour;
        }
        if (niceSour < 0x100) {
            iVar1 = 0;
        }
        else if (niceSour < 0x200) {
            iVar1 = 1;
            niceSour -= 0x100;
        }
        else if (niceSour < 0x300) {
            iVar1 = 2;
            niceSour -= 0x200;
        }
        else {
            iVar1 = 3;
            niceSour -= 0x300;
        }
        fieldAreaBonus = LinearInterpolateToNewRange((niceSour / 256), 0.0, 1.0, FieldTrajectories[inMemBatter.BatterAtPlate_TrajectoryNearFar][iVar1], FieldTrajectories[inMemBatter.BatterAtPlate_TrajectoryNearFar][iVar1 + 1]);
        fVar1 = (fVar1 * fieldAreaBonus);
    }

    if (inMemBatter.AtBat_MoonShot) {
        fVar1 = (fVar1 * AtBat_MoonShotMultiplier);
    }

    Hit_HorizontalPower = floor(fVar1);
    return;
}

function isEmptyOrSpaces(str) {
    return str === null || str.match(/^ *$/) !== null;
}

var readValues = undefined;

function randomInputs()
{
    function randIndex(box)
    {
        box.selectedIndex = floor(Math.random() * box.options.length);
    }

    function randRange(box, min, max, fixedpoint = -1)
    {
        let range = max - min;
        let value = Math.random() * range + min;
        if(fixedpoint >= 0)
        {
            value = value.toFixed(fixedpoint);
        }
        box.value = value;
    }

    randIndex(document.getElementById("pitcherID"));
    randIndex(document.getElementById("pitchType"));
    randIndex(document.getElementById("batterID"));

    let batter_id = document.getElementById("batterID").value;
    
    randRange(document.getElementById("ballX"), BattingExtensions[BatterHitbox[batter_id].TrimmedBat][0], BattingExtensions[BatterHitbox[batter_id].TrimmedBat][1], 4);
    document.getElementById("batterX").value = 0;
    randIndex(document.getElementById("handedness"));
    randIndex(document.getElementById("chemOnBase"));
    randIndex(document.getElementById("slapChargeStarBunt"));
    
    if(document.getElementById("slapChargeStarBunt").value < 1)
    {
        randIndex(document.getElementById("frameOfContact"));
    }
    else
    {
        document.getElementById("frameOfContact").selectedIndex = Math.random() * (document.getElementById("frameOfContact").options.length - 1) + 1
        let rand = Math.random() * 3.1;
        if(rand < 1)
        {
            randRange(document.getElementById("chargeUp"), 0, 0);
            randRange(document.getElementById("chargeDown"), 0, 0);        
        }
        else if(rand < 2)
        {
            randRange(document.getElementById("chargeUp"), 0, 1, 3);
            randRange(document.getElementById("chargeDown"), 0, 0);
        }
        else if(rand < 3)
        {
            randRange(document.getElementById("chargeUp"), 1, 1);
            randRange(document.getElementById("chargeDown"), 0, 1, 3);        
        }
        else
        {
            randRange(document.getElementById("chargeUp"), 1, 1);
            randRange(document.getElementById("chargeDown"), 1, 1);
        }
    }

    randRange(document.getElementById("randomInt1"), 0, 2**15 - 1, 0);
    randRange(document.getElementById("randomInt2"), 0, 2**15 - 1, 0);
    randRange(document.getElementById("randomCounter"), 0, 2**15 - 1, 0);

    let r1 = Math.random() * 3;
    let r2 = Math.random() * 3;
    document.getElementById("inputUp").checked      = r1 <= 1;     
    document.getElementById("inputDown").checked    = r1 >= 2;
    document.getElementById("inputLeft").checked    = r2 <= 1;
    document.getElementById("inputRight").checked   = r2 >= 2;
}

function parseInputs()
{
    readValues = {};
    readValues.pitcher_id = pitcher_id = document.getElementById("pitcherID").value;
    readValues.pitcherChargeVal = document.getElementById("pitchType").value;

    if (!isEmptyOrSpaces(document.getElementById("randomInt1").value)) {
        readValues.StaticRandomInt1 = parseInt(document.getElementById("randomInt1").value);
    }

    if (!isEmptyOrSpaces(document.getElementById("randomInt2").value)) {
        readValues.StaticRandomInt2 = parseInt(document.getElementById("randomInt2").value);
    }

    if (!isEmptyOrSpaces(document.getElementById("randomCounter").value)) {
        readValues.USHORT_8089269c = parseInt(document.getElementById("randomCounter").value);
    }

    readValues.batter_id = document.getElementById("batterID").value;

    readValues.ballContact_X = parseFloat(document.getElementById("ballX").value);
    readValues.posX = parseFloat(document.getElementById("batterX").value);

    readValues.AtBat_BatterHand = document.getElementById("handedness").value;

    readValues.Batter_Contact_SlapChargeBuntStar = document.getElementById("slapChargeStarBunt").value;

    readValues.Up = document.getElementById("inputUp").checked;
    readValues.Down = document.getElementById("inputDown").checked;
    readValues.Left = document.getElementById("inputLeft").checked;
    readValues.Right = document.getElementById("inputRight").checked;

    readValues.chargeUp = parseFloat(document.getElementById("chargeUp").value);
    readValues.chargeDown = parseFloat(document.getElementById("chargeDown").value);

    readValues.RandomBattingFactors_ChemLinksOnBase = document.getElementById("chemOnBase").value;

    readValues.frameOfContact = document.getElementById("frameOfContact").value;

    readValues.EasyBatting = document.getElementById("isEasyBatting").checked ? 1 : 0;
}

function parseValues() {
    Display_Output = {};
    inMemBall = {};
    inMemPitcher = {};
    inMemPitcher.calced_cursedBall = stats[readValues.pitcher_id]["Cursed Ball"];
    let pitcherChargeVal = readValues.pitcherChargeVal;
    if (pitcherChargeVal == 0) {
        inMemPitcher.Pitcher_TypeOfPitch = PitchCurve;
        inMemPitcher.ChargePitchType = PitchChargeType_None;
    }
    else if (pitcherChargeVal == 1) {
        inMemPitcher.Pitcher_TypeOfPitch = PitchCharge;
        inMemPitcher.ChargePitchType = PitchChargeType_Charge;
    }
    else if (pitcherChargeVal == 2) {
        inMemPitcher.Pitcher_TypeOfPitch = PitchCharge;
        inMemPitcher.ChargePitchType = PitchChargeType_Perfect;
    }
    else if (pitcherChargeVal == 3) {
        inMemPitcher.Pitcher_TypeOfPitch = PitchChangeUp;
        inMemPitcher.ChargePitchType = PitchChargeType_None;
    }

    let StaticRandomInt1 = undefined;
    let StaticRandomInt2 = undefined;
    let USHORT_8089269c = undefined;

    if (readValues.StaticRandomInt1 != undefined) {
        StaticRandomInt1 = readValues.StaticRandomInt1;
    }
    else{
        StaticRandomInt1 = floor(Math.random() * 2 ** 15 - 1);
    }

    if (readValues.StaticRandomInt2 != undefined) {
        StaticRandomInt2 = readValues.StaticRandomInt2;
    }
    else {
        StaticRandomInt2 = floor(Math.random() * 2 ** 15 - 1)
    }

    if (readValues.USHORT_8089269c != undefined) {
        USHORT_8089269c = readValues.USHORT_8089269c;
    }
    else{   
        USHORT_8089269c = floor(Math.random() * 2 ** 15 - 1)
    }

    inMemBatter = {};
    let id = readValues.batter_id;

    inMemBatter.Batter_CharID = id;
    inMemBatter.Name = stats[id].Name;
    inMemBatter.AtBat_Mystery_BatDirection = 0;
    inMemBatter.AtBat_TrimmedBat = BatterHitbox[id]["TrimmedBat"] == 0.0 ? 0 : 1;

    inMemBatter.ballContact_X = readValues.ballContact_X;
    inMemBatter.posX = readValues.posX;

    inMemBatter.AtBat_BatterHand = readValues.AtBat_BatterHand;

    inMemBatter.Batter_Contact_SlapChargeBuntStar = readValues.Batter_Contact_SlapChargeBuntStar;
    inMemBatter.Batter_IsBunting = inMemBatter.Batter_Contact_SlapChargeBuntStar == Bunt;

    inMemBatter.BatterAtPlate_BatterCharge_Up = readValues.chargeUp;
    inMemBatter.BatterAtPlate_BatterCharge_Down = readValues.chargeDown;
    inMemBatter.AtBat_IsFullyCharged = inMemBatter.BatterAtPlate_BatterCharge_Up == 1.0;

    inMemBatter.Batter_SlapHitPower = stats[id]["Slap Hit Power"]
    inMemBatter.BatterAtPlate_ChargePower = stats[id]["Charge Hit Power"]

    inMemBatter.Batter_SlapContactSize = stats[id]["Slap Contact Spot Size"];
    inMemBatter.Batter_ChargeContactSize = stats[id]["Charge Contact Spot Size"];

    inMemBatter.BatterAtPlate_TrajectoryNearFar = stats[id]["Horizontal Hit Trajectory"];
    inMemBatter.AtBat_HitTrajectoryLow = stats[id]["Vertical Hit Trajectory"];

    inMemBatter.RandomBattingFactors_ChemLinksOnBase = readValues.RandomBattingFactors_ChemLinksOnBase;
    inMemBatter.Frame_SwingContact1 = readValues.frameOfContact

    inMemBatter.EasyBatting = readValues.EasyBatting;

    inMemBatter.AtBat_MoonShot = false;

    inMemBatter.ControllerInput = {
        "Up"    : readValues.Up,
        "Down"  : readValues.Down,
        "Left"  : readValues.Left,
        "Right" : readValues.Right
    };

    inMemBatter.AtBat_CaptainStarHitPitch = stats[id]["Captain Star Hit/Pitch"];
    inMemBatter.AtBat_NonCaptainStarSwing = stats[id]["Non Captain Star Swing"];

    inMemBatter.nonCaptainStarSwingContact = 0;
    inMemBatter.nonCaptainStarSwingContact = 0;
    inMemBatter.AtBat_Mystery_CaptainStarSwing = 0;
    inMemBatter.AtBat_Mystery_DidPopFlyOrGrounderConnect = false;
    inMemBatter.AtBat_Mystery_IsStarHit = inMemBatter.Batter_Contact_SlapChargeBuntStar == Star;

    let starsForBatter = 4;
    if (inMemBatter.Batter_Contact_SlapChargeBuntStar == Star) {
        if (inMemBatter.Batter_IsBunting == false) {
            if (starsForBatter != 0) {
                if ((inMemBatter.AtBat_IsFullyCharged == false) || (starsForBatter < 5)) {
                    if (inMemBatter.AtBat_CaptainStarHitPitch == 0) {
                        if ((starsForBatter < 1) || (inMemBatter.AtBat_NonCaptainStarSwing == 0)) {
                            inMemBatter.AtBat_Mystery_IsStarHit = false;
                        }
                        else {
                            inMemBatter.nonCaptainStarSwingContact = inMemBatter.AtBat_NonCaptainStarSwing;
                            if (inMemBatter.AtBat_NonCaptainStarSwing == 2) {
                                inMemBatter.Batter_Contact_SlapChargeBuntStar = Charge;
                                inMemBatter.AtBat_Mystery_DidPopFlyOrGrounderConnect = true;
                                inMemBatter.BatterAtPlate_BatterCharge_Up = 1.0;
                            }
                            else if (inMemBatter.AtBat_NonCaptainStarSwing < 2) {
                                if (inMemBatter.AtBat_NonCaptainStarSwing != 0) {
                                    inMemBatter.Batter_Contact_SlapChargeBuntStar = Charge;
                                    inMemBatter.AtBat_Mystery_DidPopFlyOrGrounderConnect = true;
                                    inMemBatter.BatterAtPlate_BatterCharge_Up = 1.0;
                                }
                            }
                            else if (inMemBatter.AtBat_NonCaptainStarSwing < 4) {
                                inMemBatter.Batter_Contact_SlapChargeBuntStar = Slap;
                            }
                        }
                    }
                    // else if (Team_CaptainRosterLoc[TeamBatting] == inMemBatter.AtBat_RosterID) {
                    else if (false) {
                        if (starsForBatter < 1) {
                            inMemBatter.AtBat_Mystery_IsStarHit = false;
                        }
                        else {
                            inMemBatter.Batter_Contact_SlapChargeBuntStar = Star;
                        }
                    }
                    else if (starsForBatter < 2) {
                        inMemBatter.AtBat_Mystery_IsStarHit = false;
                    }
                    else {
                        inMemBatter.Batter_Contact_SlapChargeBuntStar = Star;
                    }
                }
                else {
                    inMemBatter.Batter_Contact_SlapChargeBuntStar = Star;
                    inMemBatter.AtBat_MoonShot = true;
                }
                if ((inMemBatter.Batter_Contact_SlapChargeBuntStar == Star) || (inMemBatter.AtBat_Mystery_DidPopFlyOrGrounderConnect != false)) {
                    inMemBatter.AtBat_Mystery7 = 0;
                    inMemBatter.AtBat_Mystery_CaptainStarSwing = inMemBatter.AtBat_CaptainStarHitPitch;
                }
            }
        }
        else {
            inMemBatter.Batter_Contact_SlapChargeBuntStar = Bunt;
            inMemBatter.AtBat_MoonShot = false;
        }
    }
}

function hitBall() {
    let fVar1 = inMemBatter.ballContact_X;

    if (BattingExtensions[inMemBatter.AtBat_TrimmedBat][0] <= fVar1 - inMemBatter.posX) {
        if (fVar1 - inMemBatter.posX <= BattingExtensions[inMemBatter.AtBat_TrimmedBat][1]) {
            inMemBatter.interstitialBallContact_X = fVar1;
            return true;
        }
    }
    return false;
}
function mssbConvertToRadians(param_1)
{    
    if (param_1 < 0) {
      param_1 += 0x1000;
    }
    if (0xfff < param_1) {
      param_1 += -0x1000;
    }
    dVar1 = (Math.PI * (param_1 << 1)) / 4096;
    if (Math.PI < dVar1) {
      dVar1 = -(2*Math.PI - dVar1);
    }
    return dVar1;
}

function convertPowerToVelocity() {
    inMemBall.ballVelocity = {X:0, Y:0, Z:0};
    inMemBall.ballAcceleration = {X:0, Y:0, Z:0};

    let half_power = Hit_HorizontalPower * 0.5;
    let horizontalAngle = mssbConvertToRadians(Hit_HorizontalAngle);
    let verticalAngle = mssbConvertToRadians(Hit_VerticalAngle);

    let s_verticalAngle = Math.sin(verticalAngle);
    let dVar6 = s_verticalAngle;

    let c_verticalAngle = Math.cos(verticalAngle);

    let half_power_x_cos_vert_angle = half_power * c_verticalAngle;
    let c_horizontalAngle = Math.cos(horizontalAngle);
    let cos_horizontalAngle = c_horizontalAngle;

    let s_horizontalAngle = Math.sin(horizontalAngle);
    let dVar8 = s_horizontalAngle;

    verticalAngle = cos_horizontalAngle * half_power_x_cos_vert_angle;
    s_verticalAngle = 100.0;
    horizontalAngle = dVar8 * half_power_x_cos_vert_angle;
    inMemBall.ballVelocity.X = verticalAngle / s_verticalAngle;
    inMemBall.ballAcceleration.Y = AddedContactGravity;
    inMemBall.ballVelocity.Y = (half_power * dVar6) / s_verticalAngle;
    inMemBall.ballAcceleration.X = 0.0;
    inMemBall.ballAcceleration.Z = 0.0;
    inMemBall.ballVelocity.Z = horizontalAngle / s_verticalAngle;

    if ((inMemBatter.Batter_IsBunting == false) && (Hit_HorizontalAngle < 0x901 || 0xeff < Hit_HorizontalAngle)) {
        // has Super Curve
        iVar2 = [0xe, 0x35, 0x25].find(x => x == inMemBatter.Batter_CharID) != undefined ? 1 : 0;
        if (inMemBatter.nonCaptainStarSwingContact == 3) {
            iVar2 = 1;
        }
        fVar1 = inMemBatter.CalculatedBallPos;
        if (100.0 < inMemBatter.CalculatedBallPos) {
            fVar1 = 200.0 - inMemBatter.CalculatedBallPos;
        }
        iVar4 = Hit_VerticalAngle;
        fvar1 = (1.0 - (1.0 - fVar1 * 0.01) * FLOAT_ARRAY_ARRAY_807b72bc[iVar2][0]);
        if ((0x180 < iVar4) && (iVar4 < 0x401)) {
            uVar3 = iVar4 - 0x180;
            fVar1 =  uVar3;
            if (512.0 < uVar3) {
                fVar1 = 512.0;
            }
            fvar1 = fvar1 * (1.0 - fVar1 * 1.0 / 512.0);
        }
        iVar4 = Hit_HorizontalAngle;
        if ((iVar4 < 0xc01) && (0xff < iVar4)) {
            if (0x700 < iVar4) {
                iVar4 = 0x700;
            }
        }
        else {
            iVar4 = 0x100;
        }
        if (inMemBatter.AtBat_BatterHand != Righty) {
            iVar4 = 0x800 - iVar4;
        }
        if (iVar4 < 0x460) {
            fVar1 = (0x460 - iVar4) / 864.0;
        }
        else {
            fVar1 = (0x460 - iVar4) / 672.0;
        }
        fVar2 = (fvar1 * fVar1);
        if (0.0 <= fVar2) {
            if (0.0 < fVar1) {
                horizontalAngle = -cos_horizontalAngle;
                verticalAngle = dVar8;
            }
        }
      else {
            fVar2 = -fVar2;
            horizontalAngle = cos_horizontalAngle;
            verticalAngle = -dVar8;
        }
        inMemBall.ballAcceleration.Z = (horizontalAngle * fVar2) * FLOAT_ARRAY_ARRAY_807b72bc[iVar2][2];
        inMemBall.ballAcceleration.X = (verticalAngle * fVar2) * FLOAT_ARRAY_ARRAY_807b72bc[iVar2][1];
        if (0.0 < inMemBall.ballAcceleration.Z) {
            inMemBall.ballAcceleration.Z = -inMemBall.ballAcceleration.Z;
        }
        if (inMemBatter.AtBat_BatterHand != Righty) {
            inMemBall.ballAcceleration.X = -inMemBall.ballAcceleration.X;
        }
    }
    console.log(inMemBall.ballVelocity);
    console.log(inMemBall.ballAcceleration);
}

var CalculatedPoints = [];
var isHomeRun = false;

function calculateHitGround()
{
    let p = { X: 0, Y: BatterHitbox[inMemBatter.Batter_CharID].PitchingHeight, Z: 0 }
    CalculatedPoints = []
    
    let v = inMemBall.ballVelocity;
    let a = inMemBall.ballAcceleration;

    const airResistance = 0.996;
    const gravity = 0.00275;
    
    isHomeRun = false;
    let foundHomerun = false;
    while (p.Y > 0)
    {
        CalculatedPoints.push(p);
        p = { X: p.X + v.X, Y: p.Y + v.Y, Z: p.Z + v.Z };

        v.X = v.X * airResistance + a.X;
        v.Y = (v.Y - gravity) * airResistance + a.Y;
        v.Z = v.Z * airResistance + a.Z;
        if (Math.sqrt(p.X ** 2 + p.Z ** 2) >= 100 && p.Y > 5 && !foundHomerun)
        {
            isHomeRun = true;
            foundHomerun = true;
        }
    }
    Display_Output["Hit Ground"] = {"Point": CalculatedPoints[CalculatedPoints.length-1], "Distance" :Math.sqrt(CalculatedPoints[CalculatedPoints.length-1].X**2 + CalculatedPoints[CalculatedPoints.length-1].Z**2)}
    console.log(CalculatedPoints)
    // console.log(isHomeRun)
}

function calculateValues() {
    calculateContact();

    calculateHorizontalAngle();

    calculateVerticalAngle();

    calculateHitPower();

    convertPowerToVelocity();

    calculateHitGround();
}

var horizontalCanvas = undefined;
var verticalCanvas = undefined;
var scaleCanvas = undefined;
var allBatsCanvas = undefined;
var contactCanvas = undefined;

function valueToDegrees(v) {
    return (v / 4096) * 360;
}

function degreesToRadians(d) {
    return d * Math.PI / 180;
}

function degreeToPoint(d, length) {
    return { "X": Math.cos(degreesToRadians(d)) * length, "Y": -Math.sin(degreesToRadians(d)) * length }
}

function anglesToArc(vals, flip = false) {
    let selectedAngle1 = degreesToRadians(360 - valueToDegrees(vals[0]));
    let selectedAngle2 = degreesToRadians(360 - valueToDegrees(vals[1]));

    if (inMemBatter.AtBat_BatterHand == Lefty && flip) {
        selectedAngle1 = Math.PI - selectedAngle1;
        selectedAngle2 = Math.PI - selectedAngle2;
    }
    let selectedAngleBegin = Math.min(selectedAngle1, selectedAngle2);
    let selectedAngleEnd = Math.max(selectedAngle1, selectedAngle2);
    return [selectedAngleBegin, selectedAngleEnd]
}

function drawVerticalGraph() {
    let ctx = verticalCanvas.getContext('2d');
    ctx.clearRect(0, 0, verticalCanvas.width, verticalCanvas.height);
    ctx.font = "10px Arial";

    // Set line width
    ctx.lineWidth = 1;

    // Set fill Color
    let blackColor = "#000000FF"
    ctx.fillStyle = blackColor;
    ctx.strokeStyle = blackColor;

    // Make Lines
    let offset = { "X": 20, "Y": 250 }
    let origin = { "X": 0, "Y": 0 }
    let length = 190;
    let highRange = degreeToPoint(90, length);
    let lowRange = degreeToPoint(0, length);

    // Draw Range lines
    ctx.beginPath();
    ctx.moveTo(highRange.X + offset.X, highRange.Y + offset.Y);
    ctx.lineTo(origin.X + offset.X, origin.Y + offset.Y);
    ctx.lineTo(lowRange.X + offset.X, lowRange.Y + offset.Y);
    ctx.lineTo(origin.X + offset.X, origin.Y + offset.Y);
    ctx.closePath();
    ctx.stroke();

    // Selected Region
    selectedAngles = anglesToArc(Display_Output["Vertical Range"])

    let arcLength = length * 0.7;
    let i = 0;
    let transparency = "80";
    Display_Output["Vertical Zones"].forEach(element => {
        // Draw vertical regions
        theseAngles = anglesToArc(element);
        let this_length = arcLength + (length * 0.1) * (i % 3);
        let this_transparency = transparency;

        if (i == Display_Output["Selected Vertical Zone"]) {
            this_length = length;
            this_transparency = "FF"
        }

        ctx.beginPath();
        ctx.moveTo(origin.X + offset.X, origin.Y + offset.Y);
        ctx.arc(origin.X + offset.X, origin.Y + offset.Y, this_length, theseAngles[0], theseAngles[1]);
        ctx.lineTo(origin.X + offset.X, origin.Y + offset.Y);
        let fill = ["#FF0000", "#FF7F00", "#FFFF00", "#00FF00", "#0000FF", "#4B0082", "#9400D3"][i % 7] + this_transparency;
        ctx.fillStyle = fill;
        ctx.fill();

        ctx.fillStyle = blackColor;
        text_point = degreeToPoint(valueToDegrees((element[0] + element[1]) / 2), this_length)
        ctx.fillText(Display_Output["Vertical Zone Chances"][i] + "%", text_point.X + offset.X, text_point.Y + offset.Y);
        i += 1;
    });

    ctx.strokeStyle = blackColor;

    // Draw point

    outfield = 100;
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(origin.X + offset.X, origin.Y + offset.Y);

    function pointToRender(x, y)
    {
        return {X: offset.X + (x / outfield) * length, Y: offset.Y - (y / outfield) * length };
    }
    
    CalculatedPoints.forEach(element => {
        let newP = pointToRender(element.Z, element.Y);
        ctx.lineTo(newP.X, newP.Y);

    });
    ctx.stroke();
}

function drawHorizontalGraph() {
    let ctx = horizontalCanvas.getContext('2d');
    ctx.clearRect(0, 0, horizontalCanvas.width, horizontalCanvas.height);

    // Set line width
    ctx.lineWidth = 1;

    // Wall

    let offset = { "X": horizontalCanvas.width / 2, "Y": 250 }
    let origin = { "X": 0, "Y": 0 }
    let length = 190;
    let leftPole = degreeToPoint(135, length);
    let RightPole = degreeToPoint(45, length);

    // Draw foul lines
    ctx.beginPath();
    ctx.moveTo(leftPole.X + offset.X, leftPole.Y + offset.Y);
    ctx.lineTo(origin.X + offset.X, origin.Y + offset.Y);
    ctx.lineTo(RightPole.X + offset.X, RightPole.Y + offset.Y);
    ctx.lineTo(origin.X + offset.X, origin.Y + offset.Y);
    ctx.closePath();
    ctx.stroke();

    // Draw horizontal region
    ctx.beginPath();
    ctx.moveTo(origin.X + offset.X, origin.Y + offset.Y);
    let angles = anglesToArc(Display_Output["Horizontal Range"], true);

    let angleBegin = angles[0];
    let angleEnd = angles[1];
    ctx.arc(origin.X + offset.X, origin.Y + offset.Y, length, angleBegin, angleEnd);
    ctx.lineTo(origin.X + offset.X, origin.Y + offset.Y);
    // ctx2.arc(origin.X + offset.X, origin.Y + offset.Y, length, degreesToRadian(360 - 111), degreesToRadian(360 - 45));
    ctx.fillStyle = "#FF000040";
    ctx.fill();

    // Draw point
    let outfield = 100;
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(origin.X + offset.X, origin.Y + offset.Y);

    function pointToRender(x, y)
    {
        return {X: offset.X + (x / outfield) * length, Y: offset.Y - (y / outfield) * length };
    }
    
    CalculatedPoints.forEach(element => {
        let newP = pointToRender(element.X, element.Z);
        ctx.lineTo(newP.X, newP.Y);

    });
    ctx.stroke();
}

function drawAllBatsGraph()
{
    let ctx = allBatsCanvas.getContext('2d');
    let batImg = document.getElementById("batImg");
    let flippedBatImg = document.getElementById("batFlippedImg");
    let scale_0_100 = document.getElementById("scale0100");
    let scale_100_200 = document.getElementById("scale100200");

    let canvasHeight = allBatsCanvas.height;
    let canvasWidth = allBatsCanvas.width;
    
    ctx.fillStyle = "#FFFFFFFF";
    ctx.fillRect(0, 0, allBatsCanvas.width, allBatsCanvas.height);
    let left_side = -0.85;
    let right_side = 0.85;

    function valueToX(x)
    {
        let a = (x - left_side) / (right_side - left_side) * canvasWidth;
        return a;
    }

    let section_height = canvasHeight / 54;
    let bat_height = section_height / 3;
    
    let font_size = bat_height / 2;

    ctx.strokeStyle = "#000000FF";
    ctx.fillStyle = "#FFFFFFFF";
    ctx.font = font_size + "px Arial";

    
    for (let i = 0; i < 54; i++)
    {
        let hFar = BatterHitbox[i].HorizontalRangeFar;
        let hNear = BatterHitbox[i].HorizontalRangeNear;

        function calcContactFar(x) {
            return 100.0 * (x / hFar) + 100.0;
        }
    
        function reverseCalcContactFar(x)
        {
            return (x - 100.0) * (hFar / 100.0);
        }
    
        function calcContactNear(x) {
            return -100.0 * (x / hNear) + 100.0;
        }
    
        function reverseCalcContactNear(x)
        {
            return (x - 100.0) * (hNear / -100.0);
        }

        let start_y = i * section_height;
        let near = BattingExtensions[BatterHitbox[i].TrimmedBat][0];
        let far = BattingExtensions[BatterHitbox[i].TrimmedBat][1];


        // draw bat
        let near_x = valueToX(near);
        let far_x = valueToX(far);
        let length = far_x - near_x;

        ctx.fillStyle = "#FF0000FF";
        ctx.fillRect(0, start_y + bat_height, canvasWidth, bat_height);
        ctx.drawImage(scale_0_100, valueToX(0), start_y + bat_height     ,valueToX(hNear) - valueToX(0), bat_height);
        ctx.drawImage(scale_100_200, valueToX(0), start_y + bat_height     ,valueToX(hFar) - valueToX(0), bat_height);
        ctx.drawImage(batImg, near_x, start_y + bat_height, length, bat_height);
        
        ctx.fillStyle = "#FFFFFFFF"
        ctx.fillRect(valueToX(left_side), start_y + bat_height, near_x - valueToX(left_side), bat_height)
        ctx.fillRect(valueToX(right_side), start_y + bat_height, far_x - valueToX(right_side), bat_height)
        
        near_x = valueToX(-far);
        far_x = valueToX(-near);
        ctx.fillStyle = "#FF0000FF";
        ctx.fillRect(0, start_y + (bat_height*2), canvasWidth, bat_height);
        ctx.drawImage(scale_0_100, valueToX(0), start_y + (bat_height*2)     ,valueToX(hNear) - valueToX(0), bat_height);
        ctx.drawImage(scale_100_200, valueToX(0), start_y + (bat_height*2)     ,valueToX(hFar) - valueToX(0), bat_height);
        ctx.drawImage(flippedBatImg, near_x, start_y + (bat_height*2), length, bat_height);

        ctx.fillStyle = "#FFFFFFFF";
        ctx.fillRect(valueToX(left_side), start_y + (bat_height*2), near_x - valueToX(left_side), bat_height)
        ctx.fillRect(valueToX(right_side), start_y + (bat_height*2), far_x - valueToX(right_side), bat_height)

        ctx.beginPath();
        ctx.moveTo(0, start_y);
        ctx.lineTo(canvasWidth, start_y);
        ctx.stroke();
        
        ctx.fillStyle = "#000000FF";
        ctx.fillText(stats[i].Name, 0, start_y + font_size);
    }
}


function drawScaleGraph() {
    let ctx = scaleCanvas.getContext('2d');
    ctx.clearRect(0, 0, scaleCanvas.width, scaleCanvas.height);
    let canvasWidth = scaleCanvas.width;
    let canvasHeight = scaleCanvas.height;

    let gradient_transparency = "FF";
    let grad = ctx.createLinearGradient(0, 0, 0, canvasHeight);    
    grad.addColorStop(0, "red");
    grad.addColorStop(0.25, "yellow");
    grad.addColorStop(0.5, "green");
    grad.addColorStop(0.75, "yellow");
    grad.addColorStop(1, "red");
    
    ctx.fillStyle = grad;
    ctx.fillRect(0, 0, scaleCanvas.width, scaleCanvas.height);

    let maxMark = 200;
    ctx.strokeStyle = "#000000FF";
    ctx.lineWidth = 2;

    for (let i = 0; i <= maxMark; i += 10) {
        let y_coord = (maxMark - i) / maxMark * canvasHeight;


        let font_size = 50;
        ctx.font = font_size + "px Arial";

        let text_height = font_size;
        let text_width = (font_size * i.toString().length) / 2;

        let start_x = canvasWidth / 2 - text_width / 2;
        let start_y = y_coord + font_size / 3;

        let end_y = start_y-text_height;
        let end_x = start_x + text_width;

        if (i == 0) {
            start_y -= text_height / 2
            
            ctx.beginPath();
            ctx.moveTo(0, y_coord);
            ctx.lineTo(canvasWidth, y_coord);
            ctx.stroke();
        }
        else if (i == 200) {
            start_y += text_height / 2

            ctx.beginPath();
            ctx.moveTo(0, y_coord);
            ctx.lineTo(canvasWidth, y_coord);
            ctx.stroke();
        }
        else {
            ctx.beginPath();
            ctx.moveTo(0, y_coord);
            ctx.lineTo(start_x, y_coord);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(end_x, y_coord);
            ctx.lineTo(canvasWidth, y_coord);
            ctx.stroke();
        }

        ctx.fillStyle = "#000000FF";
        ctx.fillText(i, start_x, start_y)
    }

    return;
}

function drawContactGraph()
{
    let ctx = contactCanvas.getContext('2d');
    ctx.fillStyle = "#ffffffff"
    ctx.fillRect(0, 0, contactCanvas.width, contactCanvas.height);
    let canvasWidth = contactCanvas.width;
    let canvasHeight = contactCanvas.height;
    
    ctx.lineWidth = 1;
    let transparency = "FF";
    ctx.strokeStyle = "#000000" + transparency
    
    let colors = ["#FF0000", "#FFFF00", "#00FF00", "#FFFF00", "#FF0000"];
    
    let boxWidth = 500;
    let boxHeight = 250;
    let boxOffsetX = 30;
    let boxOffsetY = canvasHeight - boxHeight - 75;

    let stripWidth = 20;
    let stripGap = 20;

    const bottomOfTheBoxY = boxHeight + boxOffsetY;

    // main box
    ctx.strokeRect(boxOffsetX, boxOffsetY, boxWidth, boxHeight);
    
    // top strip
    let topStripBeginY = boxOffsetY - stripGap;
    let topStripEndY = boxOffsetY - stripGap - stripWidth;
    let bottomStripBeginY = boxOffsetY + boxHeight + stripGap;
    let bottomStripEndY = boxOffsetY + boxHeight + stripGap + stripWidth;
    // ctx.fillStyle = colors[1] + transparency;
    
    // bottom strip
    let sideStripBeginX = boxOffsetX + boxWidth + stripGap;
    let sideStripEndX = boxOffsetX + boxWidth + stripGap + stripWidth;
    // ctx.fillStyle = colors[2] + transparency;

    const ZeroContact = boxOffsetY + boxHeight;
    const TwoHundredContact = boxOffsetY;
    
    
    function convertContactToY(c)
    {
        return ((200-c) / 200) * (ZeroContact - TwoHundredContact) + TwoHundredContact;
    }

    function convertYToContact(c)
    {
        return -(200 * (c-ZeroContact) / (ZeroContact - TwoHundredContact) - 200);
    }

    function normalToXCoord(x)
    {
        return boxOffsetX + boxWidth * x;
    }
    
    
    let hFar = BatterHitbox[inMemBatter.Batter_CharID].HorizontalRangeFar;
    let hNear = BatterHitbox[inMemBatter.Batter_CharID].HorizontalRangeNear;
    
    let nearReach = BattingExtensions[inMemBatter.AtBat_TrimmedBat][0];
    let farReach = BattingExtensions[inMemBatter.AtBat_TrimmedBat][1];
    
    function positionToNormal(x)
    {
        const nearMap = -0.85;
        const farMap = 0.85;
        return (x - nearMap) / (farMap - nearMap);
    }

    let midpoint = positionToNormal(0);
    let hitPoint = positionToNormal(inMemBatter.interstitialBallContact_X - inMemBatter.posX);
    if(inMemBatter.AtBat_BatterHand == Lefty)
    {
        hitPoint = 1 - hitPoint;
    }

    function calcContactFar(x) {
        return 100.0 * (x / hFar) + 100.0;
    }

    function reverseCalcContactFar(x)
    {
        return (x - 100.0) * (hFar / 100.0);
    }

    function calcContactNear(x) {
        return -100.0 * (x / hNear) + 100.0;
    }

    function reverseCalcContactNear(x)
    {
        return (x - 100.0) * (hNear / -100.0);
    }

    // draw contact dividing line
    let begin_chart = [0, undefined];
    let mid_chart = [midpoint, 100];
    let end_chart = [1, undefined];
    
    begin_chart[1] = calcContactNear(-0.85);
    end_chart[1] = calcContactFar(0.85);

    if(begin_chart[1] < 0)
    {
        begin_chart[0] = positionToNormal(reverseCalcContactNear(0));
        begin_chart[1] = 0;
    }
    else if(begin_chart > 200)
    {
        begin_chart[0] = positionToNormal(reverseCalcContactNear(200));
        begin_chart[1] = 200;
    }

    if(end_chart[1] < 0)
    {
        end_chart[0] = positionToNormal(reverseCalcContactFar(0));
        end_chart[1] = 0;
    }
    else if(end_chart[1] > 200)
    {
        end_chart[0] = positionToNormal(reverseCalcContactFar(200));
        end_chart[1] = 200;
    }
    
    ctx.strokeStyle = "#4000FFFF";
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.moveTo(normalToXCoord(begin_chart[0]), convertContactToY(begin_chart[1]));
    ctx.lineTo(normalToXCoord(mid_chart[0]), convertContactToY(mid_chart[1]));
    ctx.lineTo(normalToXCoord(end_chart[0]), convertContactToY(end_chart[1]));
    ctx.stroke();
    ctx.strokeStyle = "#000000FF";


    // get lines for contact
    let contactYs = [];
    contactYs.push(convertContactToY(200));
    let contactXs = [];
    contactXs.push(normalToXCoord(1));

    ctx.lineWidth = 1;
    
    i = 0;
    ctx.fillStyle = "#000000FF";
    ctx.setLineDash([5,5]);
    
    [inMemBatter.LeftNiceThreshold, inMemBatter.LeftPerfectThreshold, inMemBatter.RightPerfectThreshold, inMemBatter.RightNiceThreshold].forEach(e => {
        let fy = convertContactToY(e);
        
        ctx.beginPath();
        ctx.moveTo(sideStripEndX, fy);
        let verticalEnd = undefined;
        if(e < 100)
        {
            verticalEnd = reverseCalcContactNear(e);
        }
        else{
            verticalEnd = reverseCalcContactFar(e);
        }

        let fx = normalToXCoord(positionToNormal(verticalEnd));

        if(positionToNormal(verticalEnd) > 1 )
        {
            ctx.lineTo(boxOffsetX + boxWidth, fy);
            ctx.stroke();
            
            fx = normalToXCoord(1)
        }
        else if(positionToNormal(verticalEnd) < 0)
        {
            ctx.lineTo(boxOffsetX, fy);
            ctx.stroke();

            fx = normalToXCoord(0)
        }
        else
        {
            ctx.lineTo(fx, fy);
            ctx.stroke();
            
            [[1, boxOffsetY, topStripEndY - 5], [-1, bottomOfTheBoxY, bottomStripEndY + 15]].forEach(e => {
                // check if it hits the bat, with scaling for lefty/righty
                if(verticalEnd <= Math.max(nearReach * e[0], farReach * e[0]) && verticalEnd >= Math.min(nearReach * e[0], farReach * e[0]))
                {
                    ctx.beginPath();
                    ctx.moveTo(fx, fy);
                    ctx.lineTo(fx, e[1]);
                    ctx.stroke();
                    
                    ctx.font = "10px Arial";
                    ctx.fillText(e[0] * verticalEnd.toFixed(4), fx, e[2] - 10 * (i%2) * e[0]);
                }
            });
        }

        contactYs.push(fy)
        contactXs.push(fx)
        ctx.fillText(e.toFixed(2), sideStripEndX + 5 + 35 * (i==2), fy);
        i++
    });
    contactYs.push(convertContactToY(0));
    contactXs.push(normalToXCoord(0));
    
    ctx.setLineDash([]);
    
    // draw text for furthest reaches of the bat
    ctx.fillText(nearReach, normalToXCoord(positionToNormal(nearReach)) - 30, (topStripBeginY + topStripEndY)/2 + 5);
    ctx.fillText(farReach, normalToXCoord(positionToNormal(farReach)) + 5, (topStripBeginY + topStripEndY)/2 + 5);
    ctx.fillText(nearReach, normalToXCoord(positionToNormal(-nearReach)) +5, (bottomStripBeginY + bottomStripEndY)/2 + 5);
    ctx.fillText(farReach, normalToXCoord(positionToNormal(-farReach)) -30, (bottomStripBeginY + bottomStripEndY)/2 + 5);

    // draw contact value for tip of the bat
    ctx.fillText("Contact: " + calcContactNear(nearReach).toFixed(0), normalToXCoord(positionToNormal(nearReach)) - 30, (topStripBeginY + topStripEndY)/2 + 20);
    ctx.fillText("Contact: " + calcContactFar(farReach).toFixed(0), normalToXCoord(positionToNormal(farReach)) + 5, (topStripBeginY + topStripEndY)/2 + 20);
    ctx.fillText("Contact: " + calcContactFar(-nearReach).toFixed(0), normalToXCoord(positionToNormal(-nearReach)) - 25, bottomStripBeginY - 3);
    ctx.fillText("Contact: " + calcContactNear(-farReach).toFixed(0), normalToXCoord(positionToNormal(-farReach)) -30, bottomStripBeginY - 3);

    // draw top and bottom
    ctx.fillText(200, sideStripEndX + 5, convertContactToY(200));
    ctx.fillText(0, sideStripEndX + 5, convertContactToY(0));
    
    // draw bat up top
    [{offset:topStripBeginY, width:-stripWidth, scale:1}, {offset:bottomStripBeginY, width:stripWidth, scale:-1}].forEach(e => {

        for (let i = 0; i < contactXs.length - 1; i++) {
            ctx.fillStyle = colors[i] + transparency;
            let this_begin = Math.min(contactXs[i], contactXs[i + 1]);
            let this_end = Math.max(contactXs[i], contactXs[i + 1]);

            let near_coord = normalToXCoord(positionToNormal(e.scale * nearReach));
            let far_coord = normalToXCoord(positionToNormal(e.scale * farReach));

            let temp_near = Math.min(near_coord, far_coord);
            let temp_far = Math.max(near_coord, far_coord);

            near_coord = temp_near;
            far_coord = temp_far;

            this_begin = Math.min(Math.max(near_coord, this_begin), far_coord);
            this_end = Math.min(Math.max(near_coord, this_end), far_coord);

            ctx.fillRect(this_begin, e.offset, this_end - this_begin, e.width);
        }
    });
    
    // draw bat on side
    for(let i = 0; i < contactYs.length - 1; i++)
    {
        ctx.fillStyle = colors[i] + transparency;
        ctx.fillRect(sideStripBeginX, contactYs[i], stripWidth, contactYs[i+1] - contactYs[i])
    }


    let batImg = document.getElementById("batImg");
    let flippedBatImg = document.getElementById("batFlippedImg");

    ctx.drawImage(batImg, normalToXCoord(positionToNormal(nearReach)), topStripEndY, normalToXCoord(positionToNormal(farReach)) - normalToXCoord(positionToNormal(nearReach)), stripWidth);
    ctx.drawImage(flippedBatImg, normalToXCoord(positionToNormal(-nearReach)), bottomStripBeginY, normalToXCoord(positionToNormal(-farReach)) - normalToXCoord(positionToNormal(-nearReach)), stripWidth);
    
    // Draw current contact
    ctx.lineWidth = 2;
    ctx.beginPath();

    ctx.moveTo(sideStripBeginX + stripWidth, convertContactToY(inMemBatter.CalculatedBallPos));
    ctx.lineTo(normalToXCoord(hitPoint), convertContactToY(inMemBatter.CalculatedBallPos));
    if(inMemBatter.AtBat_BatterHand == Lefty)
    {
        ctx.lineTo(normalToXCoord(hitPoint), bottomOfTheBoxY + stripGap + stripWidth);
        ctx.stroke();
        
        ctx.setLineDash([1,5])
        ctx.beginPath();
        ctx.moveTo(normalToXCoord(hitPoint), convertContactToY(inMemBatter.CalculatedBallPos));
        ctx.lineTo(normalToXCoord(hitPoint), boxOffsetY);
        ctx.stroke();
        ctx.setLineDash([])
    }
    else {
        ctx.lineTo(normalToXCoord(hitPoint), boxOffsetY - stripGap - stripWidth);
        ctx.stroke();
        
        ctx.setLineDash([1,5])
        ctx.beginPath();
        ctx.moveTo(normalToXCoord(hitPoint), convertContactToY(inMemBatter.CalculatedBallPos));
        ctx.lineTo(normalToXCoord(hitPoint), bottomOfTheBoxY);
        ctx.stroke();
        ctx.setLineDash([])
    }

    // Draw the ball
    let ballImg = document.getElementById("ballImg");
    let ballWidth = 20;
    let ballMid = [normalToXCoord(hitPoint) - (ballWidth) / 2, convertContactToY(inMemBatter.CalculatedBallPos) - (ballWidth) / 2];
    
    ctx.drawImage(ballImg, ballMid[0], ballMid[1], ballWidth, ballWidth)
    

    // outline the boxes on the side
    // ctx.strokeRect(boxOffsetX, topStripBeginY, boxWidth, -stripWidth);
    // ctx.strokeRect(boxOffsetX, bottomStripBeginY, boxWidth, stripWidth);
    ctx.strokeRect(sideStripBeginX, boxOffsetY, stripWidth, boxHeight);
    ctx.fillStyle = "#000000FF";
    ctx.font = "30px Arial";
    ctx.fillText(inMemBatter.Name + " Batter Reaches", 0, 30);
}

function renderTrajectories() {
    drawVerticalGraph();
    drawHorizontalGraph();
    // drawScaleGraph();
    // drawAllBatsGraph();
    drawContactGraph();
}

function displayValues() {
    let output = document.getElementById("outputText");
    Display_Output["Horzontal Hit Angle"] = Hit_HorizontalAngle;
    Display_Output["Vertical Hit Angle"] = Hit_VerticalAngle;
    Display_Output["Power"] = Hit_HorizontalPower;
    Display_Output["Horzontal Hit Angle (in degrees)"] = (Hit_HorizontalAngle - 0x400) * 360 / 4096;
    Display_Output["Vertical Hit Angle (in degrees)"] = (Hit_VerticalAngle) * 360 / 4096;
    Display_Output["ball"] = inMemBall; 
    output.innerText = JSON.stringify(Display_Output, null, 4);
}

document.addEventListener('DOMContentLoaded', function (event) {
    horizontalCanvas = document.getElementById("horizontalOutput");
    verticalCanvas = document.getElementById("verticalOutput");
    scaleCanvas = document.getElementById("scaleGraph");
    contactCanvas = document.getElementById("contactOutput");
    allBatsCanvas = document.getElementById("allBatsGraph");

    document.getElementById("submitData").onclick = async function (ev) {
        parseInputs();
        parseValues();
        calculateBall();
    };

    document.getElementById("randomData").onclick = async function(ev){
        randomInputs();
        parseInputs();
        parseValues();
        calculateBall();
    };

});

function calculateBall()
{
    try {
        if (!hitBall()) {
            alert("These values would not make contact with the ball");
            return;
        }
        calculateValues();
        displayValues();
        renderTrajectories();
            // await new Promise(r => setTimeout(r, 1));
    } catch (ex) {
        console.log(ex)
        alert(ex);
    }
}